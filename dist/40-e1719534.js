"use strict";(self.webpackJsonpCheckout=self.webpackJsonpCheckout||[]).push([[40],{74642:(e,t,n)=>{n.d(t,{Z:()=>k});var a=n(86940),c=n(67627),r=n(93786);function i(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var c,i;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,fetch("".concat(r._d,"/api/products-checkout-descriptions?ids=").concat(e.toString(),"&currency=").concat(t,"&variant=").concat(n),{headers:{"Content-Type":"application/json"},method:"GET"})];case 1:return[4,(c=a.sent()).json()];case 2:if(i=a.sent(),200!==c.status)throw new Error(i.message);return[2,i]}}))}))}var o=function(e){var t=e.productOptions;return t&&t[0]&&t[0].content&&(-1!==t[0].content.toString().indexOf("sends every")||-1!==t[0].content.toString().indexOf("send every"))},s=n(70140);const l=(0,n(25426).Z)((function(){return c.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}))}));var m=n(34984),u=n(77068);const d=function(e){return{id:e.id,quantity:e.quantity,amount:e.extendedListPrice,name:e.name}};function p(e){if(e.imageUrl)return c.createElement("img",{alt:e.name,"data-test":"cart-item-image",src:e.imageUrl})}function h(e){return e.downloadPageUrl?{testId:"cart-item-digital-product-download",content:c.createElement("a",{href:e.downloadPageUrl,rel:"noopener noreferrer",target:"_blank"},c.createElement(s.Z,{id:"cart.downloads_action"}))}:{testId:"cart-item-digital-product",content:c.createElement(s.Z,{id:"cart.digital_item_text"})}}const E=function(e){return{id:e.id,quantity:e.quantity,amount:e.extendedListPrice,amountAfterDiscount:e.extendedSalePrice,name:e.name,image:p(e),productOptions:(0,a.ev)((0,a.ev)([],(e.options||[]).map((function(e){return{testId:"cart-item-product-option",content:"".concat(e.name," ").concat(e.value)}})),!0),[h(e)],!1)}};var v=n(34927);const g=function(e){return{id:e.id,quantity:1,amount:e.amount,name:e.name,image:c.createElement("span",{className:"productImage-giftCertificate","data-test":"cart-item-gift-certificate"},c.createElement(v.Z,null))}};const f=function(e){return{id:e.id,productId:e.productId,quantity:e.quantity,amount:e.extendedComparisonPrice,amountAfterDiscount:e.extendedSalePrice,name:e.name,image:p(e),description:e.giftWrapping?e.giftWrapping.name:void 0,productOptions:(e.options||[]).map((function(e){return{testId:"cart-item-product-option",content:"".concat(e.name," ").concat(e.value)}}))}};var y=n(696),I=n.n(y),C=n(91074),b=n(59728),N=n(91278);const Z=(0,N.Z)((0,c.memo)((function(e){var t=e.amount,n=e.amountAfterDiscount,a=e.image,r=e.name,i=e.productOptions,o=e.quantity,s=e.description,l=(e.currency,e.checkoutDescription),m=e.checkoutDescriptionsLoading,u=function(){return i&&i[0]&&i[0].content&&(-1!==i[0].content.toString().indexOf("sends every")||-1!==i[0].content.toString().indexOf("send every"))};return c.createElement(c.Fragment,null,c.createElement("div",{className:"product","data-test":"cart-item"},c.createElement("figure",{className:"product-column product-figure"},a),c.createElement("div",{className:"product-column product-body"},c.createElement("h5",{className:"product-title optimizedCheckout-contentPrimary","data-test":"cart-item-product-title"},"".concat(o," x ").concat(r)),c.createElement("ul",{className:"product-options optimizedCheckout-contentSecondary","data-test":"cart-item-product-options"},(i||[]).map((function(e,t){return c.createElement("li",{className:"product-option","data-test":e.testId,key:t},e.content)})),c.createElement("li",{className:"product-option custom-description ".concat(m?"loading":"")},m?c.createElement(c.Fragment,null,c.createElement("span",null),c.createElement("span",null),c.createElement("span",null)):l)),s&&c.createElement("div",{className:"product-description optimizedCheckout-contentSecondary","data-test":"cart-item-product-description"},s)),c.createElement("div",{className:"product-column product-actions"},c.createElement("div",{className:I()("product-price","optimizedCheckout-contentPrimary",{"product-price--beforeDiscount":(0,C.isNumber)(n)&&n!==t}),"data-test":"cart-item-product-price"},c.createElement(b.Z,{amount:t})),(0,C.isNumber)(n)&&n!==t&&c.createElement("div",{className:"product-price","data-test":"cart-item-product-price--afterDiscount"},c.createElement(b.Z,{amount:n})))),u()&&c.createElement("div",{className:"subscription-info 30-days"},c.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M0.666748 11.3334V6.66667H5.33341L3.18875 8.81333C3.92872 9.57001 4.94172 9.9976 6.00008 10C7.69305 9.9975 9.20109 8.92948 9.76541 7.33333H9.77741C9.85378 7.11641 9.91154 6.89338 9.95008 6.66667H11.2914C10.9555 9.33327 8.68776 11.3332 6.00008 11.3334H5.99341C4.57926 11.3376 3.22219 10.7758 2.22475 9.77333L0.666748 11.3334ZM2.04941 5.33333H0.708081C1.04391 2.66774 3.31008 0.668094 5.99675 0.666638H6.00008C7.4145 0.662112 8.77189 1.22389 9.76941 2.22667L11.3334 0.666638V5.33333H6.66675L8.81475 3.18667C8.07401 2.4291 7.05961 2.00143 6.00008 2C4.30712 2.0025 2.79907 3.07052 2.23475 4.66667H2.22275C2.14579 4.8834 2.08801 5.10648 2.05008 5.33333H2.04941Z",fill:"white"})),"Subscription option (sends every 30 days)*"),!u()&&c.createElement("div",{className:"subscription-info one-time"},c.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M9.66659 9.66666H0.333252V8.33333H9.66659V9.66666ZM3.66659 6.61333L0.999919 3.94666L1.93992 3.00666L3.66659 4.72666L8.05992 0.333328L8.99992 1.27999L3.66659 6.61333Z",fill:"white"})),"One time purchase option"))})));const k=function(e){function t(t){var n=e.call(this,t)||this;n.handleToggle=function(){var e=n.state.isExpanded;n.setState({isExpanded:!e})};var c=t.items,r=t.currency,s=(0,a.ev)((0,a.ev)((0,a.ev)((0,a.ev)([],c.physicalItems.slice().sort((function(e){return e.variantId})).map(f),!0),c.giftCertificates.slice().map(g),!0),c.digitalItems.slice().sort((function(e){return e.variantId})).map(E),!0),(c.customItems||[]).map(d),!0);return function(e,t,n){(0,a.mG)(void 0,void 0,void 0,(function(){var c,r,s,l,m;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return c=[],r=[],e.forEach((function(e){e.productId&&(o(e)?r.push(e.productId):c.push(e.productId))})),[4,i(r,t,"subscription")];case 1:return s=a.sent(),[4,i(c,t,"one-time-purchase")];case 2:return l=a.sent(),m=e.map((function(e){var t=e,n=e.productId;if(o(e)){var a=s.data.find((function(e){return e.id===n.toString()}));t.checkoutDescription=(null==a?void 0:a.checkoutDescription)||null}else{var c=l.data.find((function(e){return e.id===n.toString()}));t.checkoutDescription=(null==c?void 0:c.checkoutDescription)||null}return t})),n(m),[2]}}))}))}(s,r.code,(function(e){n.setState({itemsWithCheckoutDescriptions:e}),n.setState({checkoutDescriptionsLoading:!1})})),n.state={isExpanded:!1,itemsWithCheckoutDescriptions:s,checkoutDescriptionsLoading:!0},n}return(0,a.ZT)(t,e),t.prototype.render=function(){var e=this,t=this.props.items,n=this.state,r=n.isExpanded,i=n.itemsWithCheckoutDescriptions;return console.log("itemsWithCheckoutDescriptions",i),c.createElement(c.Fragment,null,c.createElement("h3",{className:"cart-section-heading optimizedCheckout-contentPrimary","data-test":"cart-count-total"},c.createElement(s.Z,{data:{count:(0,u.Z)(t)},id:"cart.item_count_text"})),c.createElement("ul",{"aria-live":"polite",className:"productList"},i.slice(0,r?void 0:4).map((function(t){return c.createElement("li",{className:"productList-item is-visible",key:t.id},c.createElement(Z,(0,a.pi)({},t,{checkoutDescriptionsLoading:e.state.checkoutDescriptionsLoading})))}))),this.renderActions())},t.prototype.renderActions=function(){var e=this.state.isExpanded;if(!(this.getLineItemCount()<5))return c.createElement("div",{className:"cart-actions"},c.createElement("button",{className:"button button--tertiary button--tiny optimizedCheckout-buttonSecondary",onClick:this.handleToggle,type:"button"},e?c.createElement(c.Fragment,null,c.createElement(s.Z,{id:"cart.see_less_action"}),c.createElement(l,null)):c.createElement(c.Fragment,null,c.createElement(s.Z,{id:"cart.see_all_action"}),c.createElement(m.Z,null))))},t.prototype.getLineItemCount=function(){var e=this.props.items;return(e.customItems||[]).length+e.physicalItems.length+e.digitalItems.length+e.giftCertificates.length},t}(c.Component)},71282:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(86940),c=n(696),r=n.n(c),i=n(67627),o=n(35022),s=n(67106),l=n(59728);var m=function(e){var t=e.lineItems,n=e.shippingAmount,a=(0,i.useState)(!1),c=a[0],r=a[1],o=(0,i.useState)(!1),s=o[0],l=o[1];return(0,i.useEffect)((function(){var e=(null==t?void 0:t.physicalItems)&&t.physicalItems.find((function(e){return e.options.find((function(e){return"send every 30 days"===e.value}))}));e!==s&&l(e)}),[t]),(0,i.useEffect)((function(){r(0===n)}),[n]),i.createElement(i.Fragment,null,s&&i.createElement("section",{className:"payments cart-subscription cart-section optimizedCheckout-orderSummary-cartSection"},i.createElement("div",{"data-test":"cart-total"},i.createElement("div",{"aria-live":"polite",className:"cart-priceItem optimizedCheckout-contentPrimary cart-priceItem--total"},i.createElement("span",{className:"cart-priceItem-label"},i.createElement("span",{"data-test":"cart-price-label"},"Your order contains a subscription. This reoccurs every 30 days. You can cancel any time."))))),i.createElement("div",{className:"payments"},c&&!s&&i.createElement("div",{className:"free-shipping"},"Your order qualifies for free shipping!"),s&&i.createElement(i.Fragment,null,i.createElement("h2",null,"Enjoy your MitoQ subscription with:"),i.createElement("ul",{className:"benefit-list"},i.createElement("li",null,"Free shipping on all orders"),i.createElement("li",null,"Skip or pause subscription anytime"),i.createElement("li",null,"Cancel anytime"),i.createElement("li",null,"Delivered monthly, direct to you"))),i.createElement("div",{className:"payments-method ".concat(s?"":"full-method")},i.createElement("div",{className:"payment-icon visacard-icon"}),i.createElement("div",{className:"payment-icon diners-icon"}),i.createElement("div",{className:"payment-icon mastercard-icon"}),i.createElement("div",{className:"payment-icon amex-icon"}),i.createElement("div",{className:"payment-icon discover-icon"}),i.createElement("div",{className:"payment-icon jcb-icon"}),!s&&i.createElement(i.Fragment,null,i.createElement("div",{className:"payment-icon paypal-icon"}),i.createElement("div",{className:"payment-icon gpay-icon"})))))};const u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={highlight:!1,previousAmount:0},t.handleTransitionEnd=function(e,n){var a=t.state.previousAmount;e.addEventListener("animationend",(function(c){c.target===e&&(t.setState({highlight:!1,previousAmount:a}),n())}))},t}return(0,a.ZT)(t,e),t.getDerivedStateFromProps=function(e,t){return{highlight:e.amount!==t.previousAmount,previousAmount:e.amount}},t.prototype.render=function(){var e=this.props,t=e.amount,n=e.actionLabel,a=e.onActionTriggered,c=e.children,u=e.className,d=e.currencyCode,p=e.label,h=e.superscript,E=e.testId,v=e.zeroLabel,g=e.shippingAmount,f=e.lineItems,y=this.state.highlight,I=function(e,t){return null==e?"--":t&&0===e?t:e}(t,v);return i.createElement("div",{"data-test":E},i.createElement(o.CSSTransition,{addEndListener:this.handleTransitionEnd,classNames:"changeHighlight",in:y,timeout:{}},i.createElement("div",{"aria-live":"polite",className:r()("cart-priceItem","optimizedCheckout-contentPrimary",u)},i.createElement("span",{className:"cart-priceItem-label"},i.createElement("span",{"data-test":"cart-price-label"},p,"  "),d&&i.createElement("span",{className:"cart-priceItem-currencyCode"},"(".concat(d,") ")),a&&n&&i.createElement("span",{className:"cart-priceItem-link"},i.createElement("a",{"data-test":"cart-price-callback",href:"#",onClick:(0,s.Z)(a)},n))),i.createElement("span",{className:"cart-priceItem-value"},i.createElement("span",{"data-test":"cart-price-value"},function(e){return"number"==typeof e}(I)?i.createElement(l.Z,{amount:I}):I),h&&i.createElement("sup",{"data-test":"cart-price-value-superscript"},h)),c)),"cart-total"===E&&i.createElement(m,{shippingAmount:g,amount:t,currencyCode:d,lineItems:f}))},t}(i.Component)},48527:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(67627);const c=function(e){var t=e.children;return a.createElement("section",{className:"cart-section optimizedCheckout-orderSummary-cartSection"},t)}},57993:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(67627),c=n(70140),r=n(86940),i=n(59728),o=n(71282);const s=(0,a.memo)((function(e){var t=e.code,n=e.remaining,s=e.amount,l=e.onRemoved,m=(0,r._T)(e,["code","remaining","amount","onRemoved"]);return a.createElement(o.Z,(0,r.pi)({},m,l&&{onActionTriggered:function(){return t&&l(t)},actionLabel:a.createElement(c.Z,{id:"cart.remove_action"})},{amount:-1*(s||0)}),!!n&&n>0&&a.createElement("span",{className:"cart-priceItem-postFix optimizedCheckout-contentSecondary","data-test":"cart-price-remaining"},a.createElement(c.Z,{id:"cart.remaining_text"}),": ",a.createElement(i.Z,{amount:n})),t&&a.createElement("span",{className:"cart-priceItem-postFix optimizedCheckout-contentSecondary","data-test":"cart-price-code"},t))}));const l=(0,a.memo)((function(e){var t=e.discountAmount,n=e.giftCertificates,r=e.taxes,i=e.giftWrappingAmount,l=e.shippingAmount,m=e.subtotalAmount,u=e.handlingAmount,d=e.storeCreditAmount,p=e.coupons,h=e.onRemovedGiftCertificate,E=e.onRemovedCoupon;return a.createElement(a.Fragment,null,a.createElement(o.Z,{amount:m,className:"cart-priceItem--subtotal",label:a.createElement(c.Z,{id:"cart.subtotal_text"}),testId:"cart-subtotal"}),(p||[]).map((function(e,t){return a.createElement(s,{amount:e.discountedAmount,code:e.code,key:t,label:e.displayName,onRemoved:E,testId:"cart-coupon"})})),!!t&&a.createElement(s,{amount:t,label:a.createElement(c.Z,{id:"cart.discount_text"}),testId:"cart-discount"}),(n||[]).map((function(e,t){return a.createElement(s,{amount:e.used,code:e.code,key:t,label:a.createElement(c.Z,{id:"cart.gift_certificate_text"}),onRemoved:h,remaining:e.remaining,testId:"cart-gift-certificate"})})),!!i&&a.createElement(o.Z,{amount:i,label:a.createElement(c.Z,{id:"cart.gift_wrapping_text"}),testId:"cart-gift-wrapping"}),a.createElement(o.Z,{amount:l,label:a.createElement(c.Z,{id:"cart.shipping_text"}),testId:"cart-shipping",zeroLabel:a.createElement(c.Z,{id:"cart.free_text"})}),!!u&&a.createElement(o.Z,{amount:u,label:a.createElement(c.Z,{id:"cart.handling_text"}),testId:"cart-handling"}),(r||[]).map((function(e,t){return a.createElement(o.Z,{amount:e.amount,key:t,label:e.name,testId:"cart-taxes"})})),!!d&&a.createElement(s,{amount:d,label:a.createElement(c.Z,{id:"cart.store_credit_text"}),testId:"cart-store-credit"}))}))},50041:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(67627),c=n(70140),r=n(91278),i=n(71282);const o=(0,r.Z)((function(e){var t=e.shopperCurrencyCode,n=e.storeCurrencyCode,r=e.orderAmount,o=e.currency,s=e.shippingAmount,l=e.lineItems,m=t!==n,u=a.createElement(a.Fragment,null,m?a.createElement(c.Z,{id:"cart.estimated_total_text"}):a.createElement(c.Z,{id:"cart.total_text"})," (".concat(t,")"));return a.createElement(a.Fragment,null,a.createElement(i.Z,{amount:r,className:"cart-priceItem--total",label:u,superscript:m?"*":void 0,testId:"cart-total",lineItems:l,shippingAmount:s}),m&&o&&a.createElement("p",{className:"cart-priceItem--totalNote","data-test":"cart-price-item-total-note"},a.createElement(c.Z,{data:{total:o.toStoreCurrency(r),code:n},id:"cart.billed_amount_text"})))}))},77068:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(86940);function c(e){var t=e.physicalItems,n=e.digitalItems,c=e.giftCertificates,r=e.customItems;return(0,a.ev)((0,a.ev)((0,a.ev)([],t,!0),n,!0),r||[],!0).reduce((function(e,t){return e+t.quantity}),0)+c.length}},34927:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(67627);const c=function(){return a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M20 6h-2.18c.11-.31.18-.65.18-1a2.996 2.996 0 0 0-5.5-1.65l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"}))}}}]);
//# sourceMappingURL=40-e1719534.js.map