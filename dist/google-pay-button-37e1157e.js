"use strict";(self.webpackJsonpCheckout=self.webpackJsonpCheckout||[]).push([[4748],{19285:(t,e,a)=>{a.d(e,{A:()=>n});var o=a(70355);function n(t,e){return Object.assign((e=>o.createElement(t,Object.assign({},e))),{resolveIds:e})}},25657:(t,e,a)=>{a.d(e,{A:()=>o});class o extends Error{constructor({data:t={},message:e="",title:a="",name:n=""}){super(),"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,o):this.stack=(new Error).stack,this.data=t,this.message=e,this.name=n,this.title=a,this.type="custom"}}},60266:(t,e,a)=>{a.d(e,{GooglePayButton:()=>c,GooglePayPaymentMethod:()=>y});var o=a(42920),n=a(70355),i=a(63582);var r=a(25657);class l extends r.A{constructor(t){var e,a;super({name:"EMBEDDED_CHECKOUT_UNSUPPORTED_ERROR",message:t}),e=this,a=l.prototype,Object.setPrototypeOf?Object.setPrototypeOf(e,a):function(t){return"__proto__"in t}(e)&&(e.__proto__=a)}}var d=a(19285);const c=(0,d.A)((t=>{const{language:e,onUnhandledError:a}=t;if(function(t=document.location.pathname){return"/embedded-checkout"==`/${t.split("/")[1]}`}())return a(new l(e.translate("embedded_checkout.unsupported_error",{methods:"googlepay"}))),null;const r=[o.sw,o.N8,o.Eb,o.Gk,o.ps,o.Z$,o.eI,o.yk,o.OX,o.B4,o.uw,o.L1,o.vs,o.wQ];return n.createElement(i.A,Object.assign({checkoutButtonContainerClass:"google-pay-top-button",integrations:r},t))}),[{id:"googlepayadyenv2"},{id:"googlepayadyenv3"},{id:"googlepayauthorizenet"},{id:"googlepaybnz"},{id:"googlepaybraintree"},{id:"googlepaypaypalcommerce"},{id:"googlepaycheckoutcom"},{id:"googlepaycybersourcev2"},{id:"googlepayorbital"},{id:"googlepaystripe"},{id:"googlepaystripeupe"},{id:"googlepayworldpayaccess"},{id:"googlepaytdonlinemart"},{id:"googlepaystripeocs"},{id:"googlepay_bigcommerce_payments"}]);var s=a(31635),u=a(28058),m=a(97802);const y=(0,d.A)((t=>{var{checkoutService:e,method:a,onUnhandledError:i}=t,r=(0,s.__rest)(t,["checkoutService","method","onUnhandledError"]);const l=(0,n.useCallback)((t=>{const n=t=>(0,s.__awaiter)(void 0,void 0,void 0,(function*(){try{yield e.deinitializePayment({gatewayId:a.gateway,methodId:a.id}),yield e.initializePayment(Object.assign(Object.assign({},t),{gatewayId:a.gateway,methodId:a.id}))}catch(t){t instanceof Error&&i(t)}})),r="checkout-app",l=Object.assign(Object.assign({},t),{integrations:[o.OT,o.jg,o.b$,o.Su,o.jq,o.iW,o.o1,o.BD,o.N7,o.Kh,o.Ny,o.A0],[u.A.AdyenV2GooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:i,onPaymentSelect:()=>n(l)},[u.A.AdyenV3GooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:i,onPaymentSelect:()=>n(l)},[u.A.AuthorizeNetGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:i,onPaymentSelect:()=>n(l)},[u.A.BNZGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:i,onPaymentSelect:()=>n(l)},[u.A.BigCommercePaymentsGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:i,onPaymentSelect:()=>n(l)},[u.A.BraintreeGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:i,onPaymentSelect:()=>n(l)},[u.A.PayPalCommerceGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:i,onPaymentSelect:()=>n(l)},[u.A.StripeGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:i,onPaymentSelect:()=>n(l)},[u.A.StripeUPEGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:i,onPaymentSelect:()=>n(l)},[u.A.CybersourceV2GooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:i,onPaymentSelect:()=>n(l)},[u.A.OrbitalGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:i,onPaymentSelect:()=>n(l)},[u.A.CheckoutcomGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:i,onPaymentSelect:()=>n(l)},[u.A.WorldpayAccessGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:i,onPaymentSelect:()=>n(l)},[u.A.TdOnlineMartGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:i,onPaymentSelect:()=>n(l)},[u.A.StripeOCSGooglePay]:{loadingContainerId:r,walletButton:"walletButton",onError:i,onPaymentSelect:()=>n(l)}});return e.initializePayment(l)}),[e,a,i]);return n.createElement(m.A,Object.assign({},r,{buttonId:"walletButton",deinitializePayment:e.deinitializePayment,initializePayment:l,method:a,shouldShowEditButton:!0,signOutCustomer:e.signOutCustomer}))}),[{id:u.A.AdyenV2GooglePay},{id:u.A.AdyenV3GooglePay},{id:u.A.AuthorizeNetGooglePay},{id:u.A.BNZGooglePay},{id:u.A.BraintreeGooglePay},{id:u.A.PayPalCommerceGooglePay},{id:u.A.BigCommercePaymentsGooglePay},{id:u.A.CheckoutcomGooglePay},{id:u.A.CybersourceV2GooglePay},{id:u.A.OrbitalGooglePay},{id:u.A.StripeGooglePay},{id:u.A.StripeUPEGooglePay},{id:u.A.WorldpayAccessGooglePay},{id:u.A.TdOnlineMartGooglePay},{id:u.A.StripeOCSGooglePay}])},63582:(t,e,a)=>{a.d(e,{A:()=>i});var o=a(31635),n=a(70355);const i=(0,a(19285).A)((({checkoutService:{deinitializeCustomer:t,initializeCustomer:e},checkoutButtonContainerClass:a,containerId:i,methodId:r,onUnhandledError:l,onWalletButtonClick:d,additionalInitializationOptions:c,integrations:s})=>((0,n.useEffect)((()=>((0,o.__awaiter)(void 0,void 0,void 0,(function*(){try{yield e({methodId:r,integrations:s,[r]:Object.assign({container:i,onUnhandledError:l,onClick:()=>d(r)},c)})}catch(t){"function"==typeof l&&t instanceof Error&&l(t)}})),()=>{(0,o.__awaiter)(void 0,void 0,void 0,(function*(){try{yield t({methodId:r})}catch(t){"function"==typeof l&&t instanceof Error&&l(t)}}))})),[]),n.createElement("div",{className:a,"data-test":i,id:i}))),[])},97802:(t,e,a)=>{a.d(e,{A:()=>f});var o=a(31635),n=a(69440),i=a(70355),r=a(59456),l=a(68801),d=a(22437);const c=(t="",e="****")=>t.includes("*")?t:`${e} ${t}`,s=t=>{if((t=>{if("object"==typeof t&&null!==t){if("card_information"in t&&"object"==typeof t.card_information&&null!==t.card_information&&"number"in t.card_information&&"type"in t.card_information)return!0;if("cardData"in t&&"object"==typeof t.cardData&&null!==t.cardData&&"accountMask"in t.cardData&&"cardType"in t.cardData&&"expMonth"in t.cardData&&"expYear"in t.cardData)return!0;if("accountNum"in t&&"accountMask"in t&&"expDate"in t)return!0}return!1})(t)){if(t.card_information)return{accountMask:c(t.card_information.number),cardType:t.card_information.type};if(t.cardData)return{accountMask:c(t.cardData.accountMask),cardType:t.cardData.cardType,expiryMonth:t.cardData.expMonth,expiryYear:t.cardData.expYear};if(t.accountNum){const{card:e}=(0,d.number)(t.accountNum);return{accountMask:c(t.accountMask),expiryMonth:t.expDate&&t.expDate.substr(0,2),expiryYear:t.expDate&&t.expDate.substr(2,2),cardType:e?e.niceType:""}}}};var u,m=a(72769),y=a(42596),g=a(49655),p=a(28058);!function(t){t.ApplePay="applepay",t.Barclaycard="barclaycard",t.CreditCard="credit-card",t.GooglePay="googlepay",t.PayWithGoogle="paywithgoogle",t.MultiOption="multi-option",t.Paypal="paypal",t.PaypalCredit="paypal-credit",t.PaypalVenmo="paypal-venmo",t.VisaCheckout="visa-checkout"}(u||(u={}));const h=u;function _(t){return e=>{let a=function(t){return e=>{const a={[p.A.Affirm]:t.translate("payment.affirm_name_text"),[p.A.Afterpay]:t.translate("payment.afterpay_name_text"),[p.A.AmazonPay]:t.translate("payment.amazon_name_text"),[p.A.Bolt]:t.translate("payment.bolt_name_text"),[p.A.Clearpay]:t.translate("payment.clearpay_name_text"),[h.GooglePay]:t.translate("payment.google_pay_name_text"),[p.A.Klarna]:t.translate("payment.klarna_name_text"),[h.Paypal]:t.translate("payment.paypal_name_text"),[h.PaypalCredit]:t.translate("payment.paypal_credit_name_text"),[h.VisaCheckout]:t.translate("payment.vco_name_text")};return a[e.id]||a[e.method]}}(t)(e);return a&&e.method!==h.MultiOption||(a=e.config.displayName),a||(a=(0,n.capitalize)((0,n.get)(e,"initializationData.paymentData.cardData.digital_wallet_type")||e.method||e.id)),a}}const P=({method:t,onSignOut:e})=>{const{language:a}=(0,y.Y)();return i.createElement("div",{className:"signout-link"},i.createElement(g.A,{id:"remote.sign_out_before_action"})," ",i.createElement("a",{href:"#",onClick:(0,m.A)(e)},i.createElement(g.A,{data:{providerName:_(a)(t)},id:"remote.sign_out_action"}))," ",i.createElement(g.A,{id:"remote.sign_out_after_action"}))},E=({accountMask:t,cardName:e,cardType:a,expiryMonth:o,expiryYear:n,shouldShowEditButton:r,editButtonClassName:l,editButtonLabel:d,buttonId:c,method:s,onSignOut:u})=>i.createElement(i.Fragment,null,!!e&&i.createElement("p",{"data-test":"payment-method-wallet-card-name"},i.createElement("strong",null,i.createElement(g.A,{id:"payment.credit_card_name_label"}),":")," ",e),!!t&&!!a&&i.createElement("p",{"data-test":"payment-method-wallet-card-type"},i.createElement("strong",null,`${a}:`)," ",t),!!o&&!!n&&i.createElement("p",{"data-test":"payment-method-wallet-card-expiry"},i.createElement("strong",null,i.createElement(g.A,{id:"payment.credit_card_expiration_date_label"}),":")," ",`${o}/${n}`),!!r&&i.createElement("p",null,i.createElement("a",{className:l,href:"#",id:c,onClick:(0,m.A)()},d||i.createElement(g.A,{id:"remote.select_different_card_action"}))),i.createElement(P,{method:s,onSignOut:u})),A=({buttonId:t,method:e,signInButtonClassName:a,signInButtonLabel:o})=>{const{language:n}=(0,y.Y)();return i.createElement("a",{className:a,href:"#",id:t,onClick:(0,m.A)()},o||i.createElement(g.A,{data:{providerName:_(n)(e)},id:"remote.sign_in_action"}))},f=({paymentForm:t,buttonId:e,editButtonClassName:a,editButtonLabel:d,isInitializing:c=!1,method:u,shouldShowEditButton:m,signInButtonClassName:y,signInButtonLabel:g,signOutCustomer:p,deinitializePayment:h,initializePayment:_,onSignOut:P=n.noop,onSignOutError:f=n.noop,onUnhandledError:w=n.noop})=>{const{checkoutState:{data:{getBillingAddress:B,getCheckout:b,isPaymentDataRequired:C}}}=(0,r.Q)(),v=B(),I=b();if(!v||!I)throw new Error("Unable to get checkout");const k=s(u.initializationData),S=(0,n.some)(I.payments,{providerId:u.id}),O=k&&[v.firstName,v.lastName].join(" "),G=()=>{const{disableSubmit:e}=t,a=C();s(u.initializationData)||!a?e(u,!1):e(u,!0)},x=(0,i.useCallback)((()=>(0,o.__awaiter)(void 0,void 0,void 0,(function*(){try{yield p({methodId:u.id}),P(),window.location.reload()}catch(t){f(t)}}))),[p,u.id,P,f]);return(0,i.useEffect)((()=>((0,o.__awaiter)(void 0,void 0,void 0,(function*(){G();try{yield _({gatewayId:u.gateway,methodId:u.id})}catch(t){w(t)}})),()=>{(0,o.__awaiter)(void 0,void 0,void 0,(function*(){const{disableSubmit:e}=t;e(u,!1);try{yield h({gatewayId:u.gateway,methodId:u.id})}catch(t){w(t)}}))})),[]),(0,i.useEffect)((()=>{G()})),i.createElement(l.A,{hideContentWhenLoading:!0,isLoading:c},i.createElement("div",{className:"paymentMethod paymentMethod--walletButton"},S?i.createElement(E,Object.assign({},k,{buttonId:e,cardName:O,editButtonClassName:a,editButtonLabel:d,method:u,onSignOut:x,shouldShowEditButton:m})):i.createElement(A,{buttonId:e,method:u,signInButtonClassName:y,signInButtonLabel:g})))}}}]);
//# sourceMappingURL=google-pay-button-37e1157e.js.map