"use strict";(self.webpackJsonpCheckout=self.webpackJsonpCheckout||[]).push([[5661],{19285:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(70355);function i(e,t){return Object.assign((t=>n.createElement(e,Object.assign({},t))),{resolveIds:t})}},32098:(e,t,r)=>{r.d(t,{OfflinePaymentMethod:()=>h});var n=r(31635);class i extends Error{constructor(e){var t;super(e||"An unexpected error has occurred."),this.name="StandardError",this.type="standard",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class o extends i{constructor(){super("The current order does not need to be finalized at this stage."),this.name="OrderFinalizationNotRequiredError",this.type="order_finalization_not_required"}}class a{constructor(e){this._paymentIntegrationService=e}execute(e,t){return r=this,i=function*(){return yield this._paymentIntegrationService.submitOrder(Object.assign(Object.assign({},e),{payment:e.payment?{methodId:e.payment.methodId}:void 0}),t),Promise.resolve()},new((n=void 0)||(n=Promise))((function(e,t){function o(e){try{s(i.next(e))}catch(e){t(e)}}function a(e){try{s(i.throw(e))}catch(e){t(e)}}function s(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(o,a)}s((i=i.apply(r,[])).next())}));var r,n,i}finalize(){return Promise.reject(new o)}initialize(){return Promise.resolve()}deinitialize(){return Promise.resolve()}}const s=(c=e=>new a(e),d=[{type:"PAYMENT_TYPE_OFFLINE"}],Object.assign(c,{resolveIds:d}));var c,d,u=r(70355);const h=(0,r(19285).A)((({method:e,checkoutService:t,onUnhandledError:r})=>((0,u.useEffect)((()=>((0,n.__awaiter)(void 0,void 0,void 0,(function*(){try{yield t.initializePayment({gatewayId:e.gateway,methodId:e.id,integrations:[s]})}catch(e){e instanceof Error&&r(e)}})),()=>{(0,n.__awaiter)(void 0,void 0,void 0,(function*(){try{yield t.deinitializePayment({gatewayId:e.gateway,methodId:e.id})}catch(e){e instanceof Error&&r(e)}}))})),[t,e.gateway,e.id,r]),null)),[{type:"PAYMENT_TYPE_OFFLINE"}])}}]);
//# sourceMappingURL=offline-payment-method-486deac4.js.map