"use strict";(self.webpackJsonpCheckout=self.webpackJsonpCheckout||[]).push([[5555,9154],{10945:(e,t,a)=>{a.d(t,{CheckoutcomCustomPaymentMethod:()=>j});var c=a(31635),n=a(40863),l=a(70355),o=a(45053),m=a(19285),r=a(79026),i=a(49655),s=a(22292),u=a(47237),d=a(30680),p=a(10156),_=a(24750);const b=e=>{const{additionalClassName:t,autoComplete:a,labelId:c,name:n}=e,o=(0,l.useCallback)((({field:e})=>l.createElement(p.A,Object.assign({},e,{autoComplete:a,id:e.name}))),[a]),m=(0,l.useMemo)((()=>l.createElement(i.A,{id:c})),[c]);return l.createElement(d.A,{additionalClassName:t,input:o,labelContent:m,name:n})},h=(0,l.memo)((({additionalClassName:e,autoComplete:t,labelId:a,name:c})=>l.createElement(_.A,null,l.createElement("div",{className:"form-ccFields"},l.createElement(b,{additionalClassName:e,autoComplete:t,labelId:a,name:c}))))),E=e=>{var t=e.field,{value:a}=t,n=(0,c.__rest)(t,["value"]),{form:o,selectedIssuer:m}=e;const r=(0,l.useCallback)((()=>l.createElement("input",Object.assign({},n,{type:"hidden"}))),[n]);return(0,l.useEffect)((()=>{a!==m&&o.setFieldValue(n.name,m)}),[a,o,m,n.name]),l.createElement(r,null)},k=e=>{var{issuer:t}=e,a=(0,c.__rest)(e,["issuer"]);const{bic:n,name:o}=t;return l.createElement("button",Object.assign({"data-bic":n,type:"button"},a),l.createElement("div",{className:"instrumentSelect-details"},`${n} / ${o}`))},y=({selectedIssuer:e})=>e?l.createElement(k,{className:"instrumentSelect-button optimizedCheckout-form-select dropdown-button form-input",issuer:e}):l.createElement("button",{className:"instrumentSelect-button optimizedCheckout-form-select dropdown-button form-input",type:"button"},l.createElement("div",{className:"instrumentSelect-details instrumentSelect-details--addNew"},l.createElement("div",{className:"instrumentSelect-card"},"Your bank"))),C=({method:e})=>l.createElement(h,{additionalClassName:"form-field--ccDocument",autoComplete:"cc-document",labelId:`payment.checkoutcom_document_label_${e.id}`,name:"ccDocument"}),N={fawry:()=>l.createElement(l.Fragment,null,l.createElement(h,{additionalClassName:"form-field--customerMobile",autoComplete:"tel",labelId:"payment.checkoutcom_fawry_customer_mobile_label",name:"customerMobile"}),l.createElement(h,{additionalClassName:"form-field--customerEmail",autoComplete:"email",labelId:"payment.checkoutcom_fawry_customer_email_label",name:"customerEmail"})),sepa:({method:e,debtor:t})=>{const a=(0,l.useContext)(r.i),c=e.initializationData.sepaCreditor;return(0,l.useEffect)((()=>(null==a||a.paymentForm.disableSubmit(e,!0),()=>null==a?void 0:a.paymentForm.disableSubmit(e,!1))),[a,e]),l.createElement(l.Fragment,null,l.createElement("div",{className:"checkoutcom-sepa-column-container"},l.createElement("div",{className:"checkoutcom-sepa-column-content"},l.createElement("h4",{className:"checkoutcom-sepa-title"},l.createElement(i.A,{id:"payment.checkoutcom_sepa_creditor_title"})),l.createElement("h5",{className:"checkoutcom-sepa-title"},c.sepaCreditorCompanyName),l.createElement("p",{className:"checkoutcom-sepa-line"},c.sepaCreditorAddress),l.createElement("p",{className:"checkoutcom-sepa-line"},`${c.sepaCreditorPostalCode} ${c.sepaCreditorCity}`),l.createElement("p",{className:"checkoutcom-sepa-line"},c.sepaCreditorCountry),l.createElement("br",null),l.createElement("p",{className:"checkoutcom-sepa-line"},l.createElement(i.A,{data:{creditorId:c.sepaCreditorIdentifier},id:"payment.checkoutcom_sepa_creditor_id"}))),l.createElement("div",{className:"checkoutcom-sepa-column-content"},l.createElement("h4",{className:"checkoutcom-sepa-title"},l.createElement(i.A,{id:"payment.checkoutcom_sepa_debtor_title"})),l.createElement("h5",{className:"checkoutcom-sepa-title"},`${t.firstName} ${t.lastName}`),l.createElement("p",{className:"checkoutcom-sepa-line"},t.address1),l.createElement("p",{className:"checkoutcom-sepa-line"},`${t.postalCode} ${t.city}, ${t.stateOrProvinceCode}`),l.createElement("p",{className:"checkoutcom-sepa-line"},t.countryCode))),l.createElement("p",{className:"checkoutcom-sepa-line"},l.createElement(i.A,{id:"payment.checkoutcom_sepa_payment_type"})),l.createElement("br",null),l.createElement(h,{additionalClassName:"form-field--iban",autoComplete:"iban",labelId:"payment.sepa_account_number",name:"iban"}),l.createElement(s.A,{labelContent:l.createElement(i.A,{data:{creditorName:c.sepaCreditorCompanyName},id:"payment.checkoutcom_sepa_mandate_disclaimer"}),name:"sepaMandate",onChange:function(t){null==a||a.paymentForm.disableSubmit(e,!t)}}))},ideal:({method:e})=>{const[t,a]=(0,l.useState)(),[c,n]=(0,l.useState)(""),o=(0,l.useCallback)((e=>l.createElement(E,Object.assign({},e,{selectedIssuer:c}))),[c]),m=e.initializationData.idealIssuers,r=({currentTarget:e})=>{const t=m.find((({bic:t})=>t===e.dataset.bic));t&&(a(t),n(t.bic))},i=l.createElement("ul",{className:"instrumentSelect-dropdownMenu instrumentSelect-dropdownMenuNext dropdown-menu"},m.map((e=>l.createElement("li",{className:"instrumentSelect-option dropdown-menu-item",key:e.bic},l.createElement(k,{issuer:e,onClick:r})))));return l.createElement(l.Fragment,null,l.createElement(u.A,{dropdown:i},l.createElement(y,{selectedIssuer:t})),l.createElement(d.A,{input:o,name:"bic"}))}};var f=a(44218),g=a(94202);const v=["fawry","sepa","oxxo","qpay","boleto","ideal"],S={oxxo:e=>({ccDocument:(0,g.Yj)().required(e.translate("payment.checkoutcom_document_invalid_error_oxxo")).length(18,e.translate("payment.checkoutcom_document_invalid_error_oxxo"))}),qpay:e=>({ccDocument:(0,g.Yj)().notRequired().max(32,e.translate("payment.checkoutcom_document_invalid_error_qpay"))}),boleto:e=>({ccDocument:(0,g.Yj)().required(e.translate("payment.checkoutcom_document_invalid_error_boleto")).min(11,e.translate("payment.checkoutcom_document_invalid_error_boleto")).max(14,e.translate("payment.checkoutcom_document_invalid_error_boleto"))}),sepa:e=>({iban:(0,g.Yj)().required(e.translate("payment.sepa_account_number_required")),sepaMandate:(0,g.zM)().required(e.translate("payment.sepa_mandate_required"))}),ideal:e=>({bic:(0,g.Yj)().required(e.translate("payment.ideal_bic_required"))}),fawry:e=>({customerMobile:(0,g.Yj)().required(e.translate("payment.checkoutcom_fawry_customer_mobile_invalid_error")).matches(new RegExp("^\\d{11}$"),e.translate("payment.checkoutcom_fawry_customer_mobile_invalid_error")),customerEmail:(0,g.Yj)().required(e.translate("payment.checkoutcom_fawry_customer_email_invalid_error")).email(e.translate("payment.checkoutcom_fawry_customer_email_invalid_error"))})},w=(0,f.Bj)((function({paymentMethod:e,language:t}){return(0,g.Ik)(S[e](t))})),j=(0,m.A)((e=>{var t,{language:a,method:m,checkoutService:r,checkoutState:i}=e,s=(0,c.__rest)(e,["language","method","checkoutService","checkoutState"]);const{getConfig:u}=i.data,d=null===(t=u())||void 0===t?void 0:t.checkoutSettings.features["PI-2979.checkoutcom_enable_ideal_hosted_page"],p=m.id,_=p in N?N[p]:C,b=i.data.getBillingAddress(),h=(0,l.useCallback)((e=>r.initializePayment(Object.assign(Object.assign({},e),{integrations:[n.N4,n.g9,n.Wu,n.OP,n.k5]}))),[r]);return E=p,!Object.values(v).includes(E)||"ideal"===p&&d?null:l.createElement(o.A,Object.assign({checkoutService:r,checkoutState:i,deinitializePayment:r.deinitializePayment,initializePayment:h,language:a,method:m},s,{cardFieldset:l.createElement(_,{debtor:b,method:m}),cardValidationSchema:w({paymentMethod:p,language:a})}));var E}),[{gateway:"checkoutcom"}])}}]);
//# sourceMappingURL=checkoutcom-custom-payment-method-94a5527b.js.map