{"version":3,"file":"cart-summary-528218d8.js","mappings":"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","sources":["webpack://checkout/./packages/core/src/app/cart/CartSummary.tsx","webpack://checkout/./packages/core/src/app/cart/EditLink.tsx","webpack://checkout/./packages/core/src/app/cart/mapToCartSummaryProps.ts","webpack://checkout/./packages/core/src/app/cart/mapToRedeemableProps.ts","webpack://checkout/./packages/core/src/app/coupon/AppliedCoupon.tsx","webpack://checkout/./packages/core/src/app/giftCertificate/AppliedGiftCertificate.tsx","webpack://checkout/./packages/core/src/app/ui/icon/IconRemove.tsx","webpack://checkout/./packages/core/src/app/cart/AppliedRedeemable.tsx","webpack://checkout/./packages/core/src/app/cart/AppliedRedeemables.tsx","webpack://checkout/./packages/core/src/app/cart/Redeemable.tsx","webpack://checkout/./packages/core/src/app/cart/withRedeemable.tsx","webpack://checkout/./packages/core/src/app/cart/mapToOrderSummarySubtotalsProps.ts","webpack://checkout/./packages/core/src/app/order/OrderSummaryHeader.tsx","webpack://checkout/./packages/core/src/app/order/OrderSummary.tsx","webpack://checkout/./packages/core/src/app/order/removeBundledItems.ts"],"sourcesContent":["import { Checkout, ShopperCurrency, StoreCurrency } from '@bigcommerce/checkout-sdk';\nimport React, { FunctionComponent } from 'react';\nimport withRecurly from \"../recurly/withRecurly\";\n\nimport { withCheckout } from '../checkout';\nimport { isBuyNowCart } from '../common/utility';\nimport OrderSummary from '../order/OrderSummary';\n\nimport EditLink from './EditLink';\nimport mapToCartSummaryProps from './mapToCartSummaryProps';\nimport { RedeemableProps } from './Redeemable';\nimport withRedeemable from './withRedeemable';\n\nexport type WithCheckoutCartSummaryProps = {\n    checkout: Checkout;\n    cartUrl: string;\n    storeCurrency: StoreCurrency;\n    shopperCurrency: ShopperCurrency;\n    storeCreditAmount?: number;\n    hasSubscription?: boolean;\n} & RedeemableProps;\n\nconst CartSummary: FunctionComponent<WithCheckoutCartSummaryProps> = ({ cartUrl, ...props }) => {\n    const headerLink = isBuyNowCart() ? null : <EditLink url={cartUrl} />;\n\n    return withRedeemable(OrderSummary)({\n        ...props,\n        cartUrl,\n        headerLink,\n    });\n};\n\nexport default withCheckout(mapToCartSummaryProps)(withRecurly(({hasSubscription}) => ({hasSubscription}) )(CartSummary));","import React, { FunctionComponent, memo } from 'react';\n\nimport { TranslatedString } from '../locale';\n\nexport interface EditLinkProps {\n    className?: string;\n    url: string;\n}\n\nconst EditLink: FunctionComponent<EditLinkProps> = ({ className, url }) => (\n    <a\n        className={className || 'cart-header-link'}\n        data-test=\"cart-edit-link\"\n        href={url}\n        id=\"cart-edit-link\"\n        target=\"_top\"\n    >\n        <TranslatedString id=\"cart.edit_cart_action\" />\n    </a>\n);\n\nexport default memo(EditLink);\n","import { CheckoutContextProps } from '../checkout';\n\nimport { WithCheckoutCartSummaryProps } from './CartSummary';\nimport mapToRedeemableProps from './mapToRedeemableProps';\n\nexport default function mapToCartSummaryProps(\n    context: CheckoutContextProps,\n): WithCheckoutCartSummaryProps | null {\n    const {\n        checkoutState: {\n            data: { getConfig, getCustomer, getCheckout },\n        },\n    } = context;\n\n    const checkout = getCheckout();\n    const config = getConfig();\n    const customer = getCustomer();\n    const redeemableProps = mapToRedeemableProps(context);\n\n    if (!checkout || !config || !redeemableProps || !customer) {\n        return null;\n    }\n\n    const { isStoreCreditApplied, grandTotal } = checkout;\n    const { storeCredit } = customer;\n\n    return {\n        checkout,\n        shopperCurrency: config.shopperCurrency,\n        cartUrl: config.links.cartLink,\n        storeCurrency: config.currency,\n        storeCreditAmount: isStoreCreditApplied ? Math.min(grandTotal, storeCredit) : undefined,\n        ...redeemableProps,\n    };\n}\n","import { CheckoutContextProps } from '../checkout';\nimport { EMPTY_ARRAY } from '../common/utility';\n\nimport { RedeemableProps } from './Redeemable';\n\nexport default function mapToRedeemableProps(\n    context: CheckoutContextProps,\n): RedeemableProps | null {\n    const {\n        checkoutService,\n        checkoutState: {\n            data: { getConfig, getCoupons, getGiftCertificates },\n            statuses: {\n                isApplyingCoupon,\n                isApplyingGiftCertificate,\n                isRemovingCoupon,\n                isRemovingGiftCertificate,\n            },\n            errors: {\n                getApplyCouponError,\n                getApplyGiftCertificateError,\n                getRemoveCouponError,\n                getRemoveGiftCertificateError,\n            },\n        },\n    } = context;\n\n    const config = getConfig();\n\n    if (!config) {\n        return null;\n    }\n\n    return {\n        appliedRedeemableError: getApplyCouponError() || getApplyGiftCertificateError(),\n        applyCoupon: checkoutService.applyCoupon,\n        applyGiftCertificate: checkoutService.applyGiftCertificate,\n        clearError: checkoutService.clearError,\n        coupons: getCoupons() || EMPTY_ARRAY,\n        giftCertificates: getGiftCertificates() || EMPTY_ARRAY,\n        isApplyingRedeemable: isApplyingCoupon() || isApplyingGiftCertificate(),\n        isRemovingCoupon: isRemovingCoupon(),\n        isRemovingGiftCertificate: isRemovingGiftCertificate(),\n        onRemovedCoupon: checkoutService.removeCoupon,\n        onRemovedGiftCertificate: checkoutService.removeGiftCertificate,\n        removedRedeemableError: getRemoveCouponError() || getRemoveGiftCertificateError(),\n        shouldCollapseCouponCode: config.checkoutSettings.isCouponCodeCollapsed,\n    };\n}\n","import { Coupon } from '@bigcommerce/checkout-sdk';\nimport React, { FunctionComponent, memo } from 'react';\n\nimport { TranslatedString } from '../locale';\n\nexport interface AppliedCouponProps {\n    coupon: Coupon;\n}\n\nconst AppliedCoupon: FunctionComponent<AppliedCouponProps> = ({ coupon }) => (\n    <div className=\"redeemable-column redeemable-info\" data-test=\"redeemable-item--coupon\">\n        <span className=\"redeemable-info-header\">\n            <span className=\"redeemable-info-header--highlight\" data-test=\"coupon-amount\">\n                {coupon.displayName}\n            </span>{' '}\n            <TranslatedString id=\"redeemable.coupon_text\" />\n        </span>\n\n        <span className=\"redeemable-info-subHeader\" data-test=\"coupon-code\">\n            {coupon.code}\n        </span>\n    </div>\n);\n\nexport default memo(AppliedCoupon);\n","import { GiftCertificate } from '@bigcommerce/checkout-sdk';\nimport React, { FunctionComponent, memo } from 'react';\n\nimport { ShopperCurrency } from '../currency';\nimport { TranslatedString } from '../locale';\n\nexport interface AppliedGiftCertificateProps {\n    giftCertificate: GiftCertificate;\n}\n\nconst AppliedGiftCertificate: FunctionComponent<AppliedGiftCertificateProps> = ({\n    giftCertificate,\n}) => (\n    <div className=\"redeemable-column redeemable-info\" data-test=\"redeemable-item--giftCertificate\">\n        <span className=\"redeemable-info-header\">\n            <span className=\"redeemable-info-header--highlight\" data-test=\"giftCertificate-amount\">\n                <ShopperCurrency amount={giftCertificate.used} />\n            </span>{' '}\n            <TranslatedString id=\"redeemable.gift_certificate_text\" />\n        </span>\n\n        <span className=\"redeemable-info-subHeader\">\n            {giftCertificate.remaining > 0 && (\n                <span className=\"redeemable-info-subHeader--remaining\">\n                    <TranslatedString id=\"redeemable.gift_certificate_remaining_text\" />{' '}\n                    <span data-test=\"giftCertificate-remaining\">\n                        <ShopperCurrency amount={giftCertificate.remaining} />\n                    </span>\n                </span>\n            )}\n\n            <span data-test=\"giftCertificate-code\">{giftCertificate.code}</span>\n        </span>\n    </div>\n);\n\nexport default memo(AppliedGiftCertificate);\n","import React, { FunctionComponent } from 'react';\n\nimport withIconContainer from './withIconContainer';\n\nconst IconRemove: FunctionComponent = () => (\n    <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n    </svg>\n);\n\nexport default withIconContainer(IconRemove);\n","import classNames from 'classnames';\nimport React, { FunctionComponent } from 'react';\n\nimport { TranslatedString } from '../locale';\nimport { IconRemove } from '../ui/icon';\n\nimport './AppliedRedeemable.scss';\n\nexport interface AppliedRedeemableProps {\n    isRemoving: boolean;\n    onRemove(): void;\n}\n\nconst AppliedRedeemable: FunctionComponent<AppliedRedeemableProps> = ({\n    children,\n    isRemoving,\n    onRemove,\n}) => (\n    <div className=\"form-checklist-header\">\n        <div className=\"form-checklist-checkbox optimizedCheckout-form-checklist-checkbox\">\n            <span className=\"is-srOnly\">\n                <TranslatedString id=\"redeemable.applied_text\" />\n            </span>\n        </div>\n\n        <div className=\"form-label form-label-redeemable\">\n            <div className=\"redeemable\">\n                {children}\n                <div className=\"redeemable-column redeemable-actions\">\n                    <button\n                        className={classNames('redeemable-remove', { 'is-loading': isRemoving })}\n                        data-test=\"redeemable-remove\"\n                        disabled={isRemoving}\n                        onClick={onRemove}\n                        type=\"button\"\n                    >\n                        <IconRemove />\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n);\n\nexport default AppliedRedeemable;\n","import { Coupon, GiftCertificate } from '@bigcommerce/checkout-sdk';\nimport React, { FunctionComponent, memo, useCallback } from 'react';\n\nimport { AppliedCoupon } from '../coupon';\nimport { AppliedGiftCertificate } from '../giftCertificate';\n\nimport AppliedRedeemable from './AppliedRedeemable';\n\ninterface AppliedCouponProps {\n    coupon: Coupon;\n    isRemoving?: boolean;\n    onRemoved(code: string): void;\n}\n\nconst AppliedCouponChecklistItem: FunctionComponent<AppliedCouponProps> = ({\n    coupon,\n    onRemoved,\n    isRemoving = false,\n}) => {\n    const handleRemove = useCallback(() => {\n        onRemoved(coupon.code);\n    }, [coupon, onRemoved]);\n\n    return (\n        <li className=\"form-checklist-item optimizedCheckout-form-checklist-item\">\n            <AppliedRedeemable isRemoving={isRemoving} onRemove={handleRemove}>\n                <AppliedCoupon coupon={coupon} />\n            </AppliedRedeemable>\n        </li>\n    );\n};\n\ninterface AppliedGiftCertificateProps {\n    giftCertificate: GiftCertificate;\n    isRemoving?: boolean;\n    onRemoved(code: string): void;\n}\n\nconst AppliedGiftCertificateChecklistItem: FunctionComponent<AppliedGiftCertificateProps> = ({\n    giftCertificate,\n    onRemoved,\n    isRemoving = false,\n}) => {\n    const handleRemove = useCallback(() => {\n        onRemoved(giftCertificate.code);\n    }, [giftCertificate, onRemoved]);\n\n    return (\n        <li className=\"form-checklist-item optimizedCheckout-form-checklist-item\">\n            <AppliedRedeemable isRemoving={isRemoving} onRemove={handleRemove}>\n                <AppliedGiftCertificate giftCertificate={giftCertificate} />\n            </AppliedRedeemable>\n        </li>\n    );\n};\n\nexport interface AppliedRedeemablesProps {\n    coupons?: Coupon[];\n    giftCertificates?: GiftCertificate[];\n    isRemovingGiftCertificate?: boolean;\n    isRemovingCoupon?: boolean;\n    onRemovedCoupon(code: string): void;\n    onRemovedGiftCertificate(code: string): void;\n}\n\nconst AppliedRedeemables: FunctionComponent<AppliedRedeemablesProps> = ({\n    coupons = [],\n    giftCertificates = [],\n    isRemovingCoupon = false,\n    isRemovingGiftCertificate = false,\n    onRemovedCoupon,\n    onRemovedGiftCertificate,\n}) => {\n    if (!coupons.length && !giftCertificates.length) {\n        return null;\n    }\n\n    return (\n        <ul\n            className=\"form-checklist optimizedCheckout-form-checklist\"\n            data-test=\"redeemables-list\"\n        >\n            {coupons.map((coupon) => (\n                <AppliedCouponChecklistItem\n                    coupon={coupon}\n                    isRemoving={isRemovingCoupon}\n                    key={coupon.code}\n                    onRemoved={onRemovedCoupon}\n                />\n            ))}\n\n            {giftCertificates.map((giftCertificate) => (\n                <AppliedGiftCertificateChecklistItem\n                    giftCertificate={giftCertificate}\n                    isRemoving={isRemovingGiftCertificate}\n                    key={giftCertificate.code}\n                    onRemoved={onRemovedGiftCertificate}\n                />\n            ))}\n        </ul>\n    );\n};\n\nexport default memo(AppliedRedeemables);\n","import { CheckoutSelectors, RequestError } from '@bigcommerce/checkout-sdk';\nimport { memoizeOne } from '@bigcommerce/memoize';\nimport { FieldProps, FormikProps, withFormik } from 'formik';\nimport { noop } from 'lodash';\nimport React, { FunctionComponent, KeyboardEvent, memo, useCallback } from 'react';\nimport { object, string } from 'yup';\n\nimport { preventDefault } from '../common/dom';\nimport { TranslatedString, withLanguage, WithLanguageProps } from '../locale';\nimport { Alert, AlertType } from '../ui/alert';\nimport { Button, ButtonVariant } from '../ui/button';\nimport { FormContextType, FormField, FormProvider, Label, TextInput } from '../ui/form';\nimport { Toggle } from '../ui/toggle';\n\nimport AppliedRedeemables, { AppliedRedeemablesProps } from './AppliedRedeemables';\n\nexport interface RedeemableFormValues {\n    redeemableCode: string;\n}\n\nexport type ReedemableChildrenProps = Pick<\n    RedeemableProps,\n    | 'onRemovedCoupon'\n    | 'onRemovedGiftCertificate'\n    | 'isRemovingGiftCertificate'\n    | 'isRemovingCoupon'\n    | 'coupons'\n    | 'giftCertificates'\n>;\n\nexport type RedeemableProps = {\n    appliedRedeemableError?: RequestError;\n    isApplyingRedeemable?: boolean;\n    isRemovingRedeemable?: boolean;\n    removedRedeemableError?: RequestError;\n    showAppliedRedeemables?: boolean;\n    shouldCollapseCouponCode?: boolean;\n    applyCoupon(code: string): Promise<CheckoutSelectors>;\n    applyGiftCertificate(code: string): Promise<CheckoutSelectors>;\n    clearError(error: Error): void;\n} & AppliedRedeemablesProps;\n\nconst Redeemable: FunctionComponent<\n    RedeemableProps & WithLanguageProps & FormikProps<RedeemableFormValues>\n> = ({ shouldCollapseCouponCode, showAppliedRedeemables, ...formProps }) => (\n    <Toggle openByDefault={!shouldCollapseCouponCode}>\n        {({ toggle, isOpen }) => (\n            <>\n                {shouldCollapseCouponCode && (\n                    <a\n                        aria-controls=\"redeemable-collapsable\"\n                        aria-expanded={isOpen}\n                        className=\"redeemable-label\"\n                        data-test=\"redeemable-label\"\n                        href=\"#\"\n                        onClick={preventDefault(toggle)}\n                    >\n                        <TranslatedString id=\"redeemable.toggle_action\" />\n                    </a>\n                )}\n                {!shouldCollapseCouponCode && (\n                    <div className=\"redeemable-label\">\n                        <TranslatedString id=\"redeemable.toggle_action\" />\n                    </div>\n                )}\n                {(isOpen || !shouldCollapseCouponCode) && (\n                    <div data-test=\"redeemable-collapsable\" id=\"redeemable-collapsable\">\n                        <RedeemableForm {...formProps} />\n                        {showAppliedRedeemables && <AppliedRedeemables {...formProps} />}\n                    </div>\n                )}\n            </>\n        )}\n    </Toggle>\n);\n\nconst RedeemableForm: FunctionComponent<\n    Partial<RedeemableProps> & FormikProps<RedeemableFormValues> & WithLanguageProps\n> = ({ appliedRedeemableError, isApplyingRedeemable, clearError = noop, submitForm, language }) => {\n    const handleKeyDown = useCallback(\n        memoizeOne((setSubmitted: FormContextType['setSubmitted']) => (event: KeyboardEvent) => {\n            if (appliedRedeemableError) {\n                clearError(appliedRedeemableError);\n            }\n\n            // note: to prevent submitting main form, we manually intercept\n            // the enter key event and submit the \"subform\".\n            if (event.keyCode === 13) {\n                setSubmitted(true);\n                submitForm();\n                event.preventDefault();\n            }\n        }),\n        [appliedRedeemableError, clearError, submitForm],\n    );\n\n    const handleSubmit = useCallback(\n        memoizeOne((setSubmitted: FormContextType['setSubmitted']) => () => {\n            setSubmitted(true);\n            submitForm();\n        }),\n        [],\n    );\n\n    const renderLabel = useCallback(\n        (name: string) => (\n            <Label hidden htmlFor={name}>\n                <TranslatedString id=\"redeemable.code_label\" />\n            </Label>\n        ),\n        [],\n    );\n\n    const renderErrorMessage = useCallback((errorCode: string) => {\n        switch (errorCode) {\n            case 'min_purchase':\n                return <TranslatedString id=\"redeemable.coupon_min_order_total\" />;\n\n            case 'not_applicable':\n                return <TranslatedString id=\"redeemable.coupon_location_error\" />;\n\n            default:\n                return <TranslatedString id=\"redeemable.code_invalid_error\" />;\n        }\n    }, []);\n\n    const renderInput = useCallback(\n        (setSubmitted: FormContextType['setSubmitted']) =>\n            ({ field }: FieldProps) =>\n                (\n                    <>\n                        {appliedRedeemableError &&\n                            appliedRedeemableError.errors &&\n                            appliedRedeemableError.errors[0] && (\n                                <Alert type={AlertType.Error}>\n                                    {renderErrorMessage(appliedRedeemableError.errors[0].code)}\n                                </Alert>\n                            )}\n\n                        <div className=\"form-prefixPostfix\">\n                            <TextInput\n                                {...field}\n                                aria-label={language.translate('redeemable.code_label')}\n                                className=\"form-input optimizedCheckout-form-input\"\n                                onKeyDown={handleKeyDown(setSubmitted)}\n                                testId=\"redeemableEntry-input\"\n                            />\n\n                            <Button\n                                className=\"form-prefixPostfix-button--postfix\"\n                                id=\"applyRedeemableButton\"\n                                isLoading={isApplyingRedeemable}\n                                onClick={handleSubmit(setSubmitted)}\n                                testId=\"redeemableEntry-submit\"\n                                variant={ButtonVariant.Secondary}\n                            >\n                                <TranslatedString id=\"redeemable.apply_action\" />\n                            </Button>\n                        </div>\n                    </>\n                ),\n        [\n            appliedRedeemableError,\n            handleKeyDown,\n            handleSubmit,\n            isApplyingRedeemable,\n            language,\n            renderErrorMessage,\n        ],\n    );\n\n    const renderContent = useCallback(\n        memoizeOne(({ setSubmitted }: FormContextType) => (\n            <FormField\n                input={renderInput(setSubmitted)}\n                label={renderLabel}\n                name=\"redeemableCode\"\n            />\n        )),\n        [renderLabel, renderInput],\n    );\n\n    return (\n        <fieldset className=\"form-fieldset redeemable-entry\">\n            <FormProvider>{renderContent}</FormProvider>\n        </fieldset>\n    );\n};\n\nexport default withLanguage(\n    withFormik<RedeemableProps & WithLanguageProps, RedeemableFormValues>({\n        mapPropsToValues() {\n            return {\n                redeemableCode: '',\n            };\n        },\n\n        async handleSubmit(\n            { redeemableCode },\n            { props: { applyCoupon, applyGiftCertificate, clearError } },\n        ) {\n            const code = redeemableCode.trim();\n\n            try {\n                await applyGiftCertificate(code);\n            } catch (error) {\n                if (error instanceof Error) {\n                    clearError(error);\n                }\n\n                applyCoupon(code);\n            }\n        },\n\n        validationSchema({ language }: RedeemableProps & WithLanguageProps) {\n            return object({\n                redeemableCode: string().required(\n                    language.translate('redeemable.code_required_error'),\n                ),\n            });\n        },\n    })(memo(Redeemable)),\n);\n","import React, { ComponentType, FunctionComponent } from 'react';\n\nimport { OrderSummaryProps, OrderSummarySubtotalsProps } from '../order';\n\nimport { WithCheckoutCartSummaryProps } from './CartSummary';\nimport mapToOrderSummarySubtotalsProps from './mapToOrderSummarySubtotalsProps';\nimport Redeemable from './Redeemable';\n\nexport default function withRedeemable(\n    OriginalComponent: ComponentType<OrderSummaryProps & OrderSummarySubtotalsProps>,\n): FunctionComponent<WithCheckoutCartSummaryProps & { headerLink?: any }> {\n    return (props) => {\n        const {\n            checkout,\n            storeCurrency,\n            shopperCurrency,\n            headerLink,\n            onRemovedCoupon,\n            onRemovedGiftCertificate,\n            storeCreditAmount,\n            hasSubscription,\n            ...redeemableProps\n        } = props;\n\n        return (\n            <OriginalComponent\n                {...mapToOrderSummarySubtotalsProps(checkout)}\n                additionalLineItems={\n                    <Redeemable\n                        {...{\n                            ...redeemableProps,\n                            onRemovedCoupon,\n                            onRemovedGiftCertificate,\n                        }}\n                    />\n                }\n                hasSubscription={hasSubscription}\n                headerLink={headerLink}\n                lineItems={checkout.cart.lineItems}\n                onRemovedCoupon={onRemovedCoupon}\n                onRemovedGiftCertificate={onRemovedGiftCertificate}\n                shopperCurrency={shopperCurrency}\n                storeCreditAmount={storeCreditAmount}\n                storeCurrency={storeCurrency}\n                total={checkout.outstandingBalance}\n            />\n        );\n    };\n}\n","import { Checkout } from '@bigcommerce/checkout-sdk';\n\nimport { OrderSummarySubtotalsProps } from '../order';\nimport { hasSelectedShippingOptions } from '../shipping';\n\nexport default function mapToOrderSummarySubtotalsProps({\n    subtotal,\n    cart: { discountAmount },\n    giftCertificates,\n    consignments,\n    handlingCostTotal,\n    shippingCostBeforeDiscount,\n    giftWrappingCostTotal,\n    coupons,\n    taxes,\n}: Checkout): OrderSummarySubtotalsProps {\n    return {\n        subtotalAmount: subtotal,\n        discountAmount,\n        giftCertificates,\n        giftWrappingAmount: giftWrappingCostTotal,\n        shippingAmount: hasSelectedShippingOptions(consignments)\n            ? shippingCostBeforeDiscount\n            : undefined,\n        handlingAmount: handlingCostTotal,\n        coupons,\n        taxes,\n    };\n}\n","import React, { FunctionComponent } from 'react';\n\nimport { TranslatedString } from '../locale';\n\nconst OrderSummaryHeader: FunctionComponent = ({ children }) => (\n    <header className=\"cart-header\">\n        <h3 className=\"cart-title optimizedCheckout-headingSecondary\">\n            <TranslatedString id=\"cart.cart_heading\" />\n        </h3>\n        {children}\n    </header>\n);\n\nexport default OrderSummaryHeader;\n","import { LineItemMap, ShopperCurrency, StoreCurrency } from '@bigcommerce/checkout-sdk';\nimport React, {FunctionComponent, ReactNode, useEffect, useMemo, useState} from 'react';\n\nimport OrderSummaryHeader from './OrderSummaryHeader';\nimport OrderSummaryItems from './OrderSummaryItems';\nimport OrderSummarySection from './OrderSummarySection';\nimport OrderSummarySubtotals, { OrderSummarySubtotalsProps } from './OrderSummarySubtotals';\nimport OrderSummaryTotal from './OrderSummaryTotal';\nimport removeBundledItems from './removeBundledItems';\n\nimport { ShopperCurrency as ShopperCurrency2 } from '../currency';\nimport getItemsCount from './getItemsCount';\n\nexport interface OrderSummaryProps {\n    lineItems: LineItemMap;\n    total: number;\n    headerLink: ReactNode;\n    storeCurrency: StoreCurrency;\n    shopperCurrency: ShopperCurrency;\n    additionalLineItems?: ReactNode;\n    hasSubscription?: boolean;\n}\n\nconst SavingBanner: FunctionComponent<any> = props => {\n    const { lineItems, amount } = props;\n    const [hasSubscription, setHasSubscription] = useState(false);\n    useEffect(() => {\n        const test = lineItems?.physicalItems && lineItems.physicalItems.find((v: any) => v.options.find((o: any) => o.value.indexOf('every 30 days') !== -1));\n        if (test !== hasSubscription) {\n            setHasSubscription(test);\n        }\n    }, [props]);\n    const saving = useMemo(() => {\n        return parseFloat((amount / 0.9 - amount).toFixed(2));\n    }, [amount]);\n    const savingSubscription = useMemo(() => {\n        return parseFloat((amount / 0.85 - amount).toFixed(2));\n    }, [amount]);\n    return (\n        <>{\n            (hasSubscription || getItemsCount(lineItems) > 2)  && (\n                <div className='saving-banner'>\n                    <div className='banner-icon'>\n                        <svg width=\"23\" height=\"23\" viewBox=\"0 0 23 23\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                            <path d=\"M20.7 3.8341C20.7 2.98793 20.0128 2.30069 19.1673 2.30069L12.4772 2.30002C11.6326 2.30002 10.4564 2.789 9.85957 3.3842L2.74835 10.4954C2.15172 11.0914 2.15081 12.0668 2.74835 12.6636L10.3372 20.2532C10.9332 20.8491 11.9095 20.8491 12.5063 20.2532L12.5086 20.2555L19.6166 13.1437C20.2134 12.5468 20.7008 11.3698 20.7008 10.5259L20.7 3.8341ZM18.5325 12.0593L11.4213 19.1688L3.8324 11.5792L10.9436 4.46794C11.2521 4.16022 12.0398 3.8338 12.4761 3.8338L19.1682 3.83447V10.525C19.1672 10.9623 18.8408 11.7507 18.5324 12.0591L18.5325 12.0593Z\" fill=\"white\"/>\n                            <path d=\"M17.6334 6.51667C17.6334 7.15172 17.1176 7.66757 16.4834 7.66757C15.8477 7.66667 15.3325 7.15172 15.3325 6.51667C15.3325 5.88252 15.8477 5.36757 16.4825 5.36667C17.1176 5.36757 17.6334 5.88185 17.6334 6.51667Z\" fill=\"white\"/>\n                            <path d=\"M14.539 9.54749L14.4035 9.41182L15.0809 8.73447L14.2678 7.92138L13.5904 8.59806L13.4557 8.4633C12.7068 7.71467 11.4926 7.71467 10.7446 8.4633C9.99572 9.21193 9.99572 10.4248 10.7446 11.1737L11.8285 12.2576C12.1282 12.558 12.1282 13.0424 11.8285 13.3426C11.5291 13.6423 11.044 13.6423 10.7446 13.3426L9.65963 12.2576C9.35992 11.9581 9.35992 11.4731 9.65963 11.1737L8.84654 10.3606C8.0977 11.1092 8.0977 12.3227 8.84654 13.0717L8.98198 13.2071L8.3044 13.8847L9.11749 14.6978L9.79574 14.0202L9.93051 14.1557C10.6793 14.9045 11.8936 14.9045 12.6416 14.1557C13.3905 13.407 13.3905 12.1936 12.6416 11.4445L11.5577 10.3606C11.258 10.0609 11.258 9.57579 11.5577 9.27638C11.8571 8.9769 12.3429 8.9769 12.6416 9.27638L13.7266 10.3606C14.0263 10.66 14.0263 11.1451 13.7266 11.4445L14.5389 12.2576C15.2877 11.5097 15.2877 10.2961 14.539 9.54765L14.539 9.54749Z\" fill=\"white\"/>\n                        </svg>\n                    </div>\n                    { !hasSubscription && (<div className='banner-text'>You’re saving <ShopperCurrency2 amount={ saving } />, that’s 10% off!</div>) }\n                    { hasSubscription && <div className='banner-text'>You’re saving <ShopperCurrency2 amount={ savingSubscription } /> every month, that’s 15% off!</div> }\n                </div>)\n        }\n\n\n        </>\n\n    );\n};\n\nconst OrderSummary: FunctionComponent<OrderSummaryProps & OrderSummarySubtotalsProps> = ({\n    storeCurrency,\n    shopperCurrency,\n    headerLink,\n    additionalLineItems,\n    lineItems,\n    total,\n    hasSubscription,\n    ...orderSummarySubtotalsProps\n}) => {\n    const nonBundledLineItems = useMemo(() => removeBundledItems(lineItems), [lineItems]);\n\n    return (\n        <article className=\"cart optimizedCheckout-orderSummary\" data-test=\"cart\">\n            <OrderSummaryHeader>{headerLink}</OrderSummaryHeader>\n\n            <OrderSummarySection>\n                <OrderSummaryItems currency={storeCurrency} items={nonBundledLineItems} />\n            </OrderSummarySection>\n\n            <OrderSummarySection>\n                { orderSummarySubtotalsProps.coupons.length === 0\n                    && <SavingBanner amount={total} currencyCode={shopperCurrency.code} lineItems={lineItems} />}\n                <OrderSummarySubtotals {...orderSummarySubtotalsProps} />\n                {additionalLineItems}\n            </OrderSummarySection>\n\n            <OrderSummarySection>\n                <OrderSummaryTotal\n                    orderAmount={total}\n                    shippingAmount={orderSummarySubtotalsProps.shippingAmount}\n                    lineItems={nonBundledLineItems}\n                    shopperCurrencyCode={shopperCurrency.code}\n                    storeCurrencyCode={storeCurrency.code}\n                />\n            </OrderSummarySection>\n            { hasSubscription && <section className=\"cart-section cart-subscription optimizedCheckout-orderSummary-cartSection\">\n                <div data-test=\"cart-total\">\n                    <div aria-live=\"polite\" className=\"cart-priceItem optimizedCheckout-contentPrimary cart-priceItem--total\">\n                    <span className=\"cart-priceItem-label\">\n                        <span data-test=\"cart-price-label\">\n                            Your order contains a subscription. This reoccurs every 30 days. You can cancel any time.\n                        </span>\n                    </span>\n                    </div>\n                </div>\n            </section> }\n        </article>\n    );\n};\n\nexport default OrderSummary;\n","import { LineItemMap } from '@bigcommerce/checkout-sdk';\n\nexport default function removeBundledItems(lineItems: LineItemMap): LineItemMap {\n    return {\n        ...lineItems,\n        physicalItems: lineItems.physicalItems.filter((item) => typeof item.parentId !== 'string'),\n        digitalItems: lineItems.digitalItems.filter((item) => typeof item.parentId !== 'string'),\n    };\n}\n"],"names":["hasSubscription","cartUrl","props","headerLink","url","memo","className","href","id","target","mapToCartSummaryProps","context","getConfig","getCustomer","checkout","getCheckout","config","customer","redeemableProps","checkoutService","data","getCoupons","getGiftCertificates","statuses","isApplyingCoupon","isApplyingGiftCertificate","isRemovingCoupon","isRemovingGiftCertificate","errors","getApplyCouponError","getApplyGiftCertificateError","getRemoveCouponError","getRemoveGiftCertificateError","appliedRedeemableError","applyCoupon","applyGiftCertificate","clearError","coupons","giftCertificates","isApplyingRedeemable","onRemovedCoupon","removeCoupon","onRemovedGiftCertificate","removeGiftCertificate","removedRedeemableError","shouldCollapseCouponCode","checkoutSettings","isCouponCodeCollapsed","mapToRedeemableProps","isStoreCreditApplied","grandTotal","storeCredit","shopperCurrency","links","cartLink","storeCurrency","currency","storeCreditAmount","Math","min","undefined","coupon","displayName","TranslatedString","code","giftCertificate","ShopperCurrency","amount","used","remaining","height","viewBox","width","xmlns","d","children","isRemoving","onRemove","disabled","onClick","type","AppliedCouponChecklistItem","onRemoved","handleRemove","useCallback","AppliedGiftCertificateChecklistItem","length","map","key","RedeemableForm","noop","submitForm","language","handleKeyDown","memoizeOne","setSubmitted","event","keyCode","preventDefault","handleSubmit","renderLabel","name","Label","hidden","htmlFor","renderErrorMessage","errorCode","renderInput","field","Alert","TextInput","translate","onKeyDown","testId","Button","isLoading","variant","renderContent","FormField","input","label","FormProvider","withLanguage","withFormik","mapPropsToValues","redeemableCode","trim","Error","validationSchema","required","showAppliedRedeemables","formProps","Toggle","openByDefault","toggle","isOpen","withRedeemable","OriginalComponent","subtotal","discountAmount","consignments","handlingCostTotal","shippingCostBeforeDiscount","giftWrappingCostTotal","taxes","subtotalAmount","giftWrappingAmount","shippingAmount","hasSelectedShippingOptions","handlingAmount","additionalLineItems","lineItems","cart","total","outstandingBalance","SavingBanner","useState","setHasSubscription","useEffect","test","physicalItems","find","v","options","o","value","indexOf","saving","useMemo","parseFloat","toFixed","savingSubscription","getItemsCount","fill","orderSummarySubtotalsProps","nonBundledLineItems","filter","item","parentId","digitalItems","removeBundledItems","OrderSummarySection","OrderSummaryItems","items","currencyCode","OrderSummarySubtotals","OrderSummaryTotal","orderAmount","shopperCurrencyCode","storeCurrencyCode"],"sourceRoot":""}