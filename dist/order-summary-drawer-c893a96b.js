"use strict";(self.webpackJsonpCheckout=self.webpackJsonpCheckout||[]).push([[8720],{4822:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var n=a(3375),r=a.n(n),i=a(70355),o=a(49655),l=a(16919),c=a(45050),s=a(91589),m=a(73545);function d({physicalItems:e,digitalItems:t,giftCertificates:a,customItems:n}){return e.length+t.length+a.length+(n||[]).length}var u=a(31635),p=a(59456),h=a(72769),C=a(63163);const g=(0,a(2156).A)((()=>i.createElement("svg",{fill:"none",height:"37",viewBox:"0 0 38 37",width:"38",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M38 18.5C38 28.7173 29.7173 37 19.5 37C9.28273 37 1 28.7173 1 18.5C1 8.28273 9.28273 0 19.5 0C29.7173 0 38 8.28273 38 18.5Z",fill:"#F3F3F3"}),i.createElement("path",{clipRule:"evenodd",d:"M24.6671 24.6674L12.9998 13.0002L14.4141 11.5859L26.0813 23.2532L24.6671 24.6674Z",fill:"black",fillRule:"evenodd"}),i.createElement("path",{clipRule:"evenodd",d:"M25.6674 13.0004L14.0002 24.6676L12.5859 23.2534L24.2532 11.5862L25.6674 13.0004Z",fill:"black",fillRule:"evenodd"}))));var A=a(87980),y=a(61944),E=a(92909),f=a(58330),b=a(59908);const k=(0,i.memo)((({items:e,shopperCurrencyCode:t,storeCurrencyCode:a,amountWithCurrency:n})=>{const r=(0,m.A)(e),l=t!==a,c=1===r?"cart.item":"cart.items";return i.createElement(i.Fragment,null,r," ",i.createElement(o.A,{id:c})," | ",n," ",l&&i.createElement("span",null,"(",t,")"))}));var v=a(1346),L=a(66317),x=a(62755),I=a(81885),N=a(20328);const w=({onRequestClose:e,headerLink:t,subHeaderText:a})=>{let n;return(0,i.isValidElement)(t)&&(n=(0,i.cloneElement)(t,{className:"modal-header-link cart-modal-link test"})),i.createElement(i.Fragment,null,null!=n?n:t,i.createElement(f.A,{additionalClassName:"cart-modal-title"},i.createElement("div",null,i.createElement(o.A,{id:"cart.cart_heading"}),i.createElement("div",{className:"cart-heading-subheader"},a))),i.createElement("a",{className:"cart-modal-close",href:"#",onClick:(0,h.A)(e)},i.createElement("span",{className:"is-srOnly"},i.createElement(o.A,{id:"common.close_action"})),i.createElement(g,null)))},R=e=>{var t,{additionalLineItems:a,isTaxIncluded:n,taxes:r,onRequestClose:c,onAfterOpen:s,storeCurrency:m,shopperCurrency:d,isOpen:g,headerLink:f,items:R,total:z}=e,_=(0,u.__rest)(e,["additionalLineItems","isTaxIncluded","taxes","onRequestClose","onAfterOpen","storeCurrency","shopperCurrency","isOpen","headerLink","items","total"]);const{checkoutState:O}=(0,p.Q)(),{checkoutSettings:S}=null!==(t=O.data.getConfig())&&void 0!==t?t:{},P=(0,A.A)(S,"PROJECT-7321-5991.multi-coupon-cart-checkout",!1),T=n&&r&&r.length>0,W=i.createElement(k,{amountWithCurrency:i.createElement(l.A,{amount:z}),items:R,shopperCurrencyCode:d.code,storeCurrencyCode:m.code}),D=(0,b.A)()&&i.createElement(C.Ay,{className:"cart-modal-continue","data-test":"manage-instrument-cancel-button",onClick:(0,h.A)(c)},i.createElement(o.A,{id:"cart.return_to_checkout"}));return i.createElement(E.A,{additionalBodyClassName:"cart-modal-body optimizedCheckout-orderSummary",additionalHeaderClassName:"cart-modal-header optimizedCheckout-orderSummary with-continue-button",additionalModalClassName:"optimizedCheckout-cart-modal",footer:D,header:w({headerLink:f,subHeaderText:W,onRequestClose:c}),isOpen:g,onAfterOpen:s,onRequestClose:c},i.createElement(x.A,null,i.createElement(v.A,{displayLineItemsCount:!1,items:R})),P?i.createElement(y.A,{fees:_.fees,giftWrappingAmount:_.giftWrappingAmount,handlingAmount:_.handlingAmount,isTaxIncluded:n,storeCreditAmount:_.storeCreditAmount,taxes:r}):i.createElement(x.A,null,i.createElement(I.A,Object.assign({isTaxIncluded:n,taxes:r},_)),a),i.createElement(x.A,null,i.createElement(N.A,{orderAmount:z,shopperCurrencyCode:d.code,storeCurrencyCode:m.code})),T&&i.createElement(x.A,null,i.createElement("h5",{className:"cart-taxItem cart-taxItem--subtotal optimizedCheckout-contentPrimary","data-test":"tax-text"},i.createElement(o.A,{id:"tax.inclusive_label"})),(r||[]).map(((e,t)=>i.createElement(L.A,{amount:e.amount,key:t,label:e.name,testId:"cart-taxes"})))))};var z=a(9660);const _=(0,i.memo)((({additionalLineItems:e,coupons:t,discountAmount:a,giftCertificates:n,handlingAmount:u,headerLink:p,isTaxIncluded:h,lineItems:C,onRemovedCoupon:g,onRemovedGiftCertificate:A,shippingAmount:y,shippingAmountBeforeDiscount:E,shopperCurrency:f,storeCreditAmount:b,giftWrappingAmount:k,storeCurrency:v,subtotalAmount:L,taxes:x,total:I,fees:N})=>{const w=(0,i.useMemo)((()=>(0,z.A)(C)),[C]),_=(0,i.useCallback)((r=>i.createElement(R,Object.assign({},r,{additionalLineItems:e,coupons:t,discountAmount:a,fees:N,giftCertificates:n,giftWrappingAmount:k,handlingAmount:u,headerLink:p,isTaxIncluded:h,items:w,onRemovedCoupon:g,onRemovedGiftCertificate:A,shippingAmount:y,shippingAmountBeforeDiscount:E,shopperCurrency:f,storeCreditAmount:b,storeCurrency:v,subtotalAmount:L,taxes:x,total:I}))),[e,t,a,n,u,p,h,w,g,A,k,y,E,f,b,v,L,x,I,N]);return i.createElement(s.A,{modal:_},(({onClick:e,onKeyPress:t})=>i.createElement("div",{className:"cartDrawer optimizedCheckout-orderSummary",onClick:e,onKeyPress:t,tabIndex:0},i.createElement("figure",{className:r()("cartDrawer-figure",{"cartDrawer-figure--stack":d(w)>1})},i.createElement("div",{className:"cartDrawer-imageWrapper"},function(e){const t=e.physicalItems[0]||e.digitalItems[0];if(t&&t.imageUrl)return i.createElement("img",{alt:t.name,"data-test":"cart-item-image",src:t.imageUrl});if(e.giftCertificates.length)return i.createElement(c.A,null)}(w))),i.createElement("div",{className:"cartDrawer-body"},i.createElement("h3",{className:"cartDrawer-items optimizedCheckout-headingPrimary"},i.createElement(o.A,{data:{count:(0,m.A)(w)},id:"cart.item_count_text"})),i.createElement("a",null,i.createElement(o.A,{id:"cart.show_details_action"}))),i.createElement("div",{className:"cartDrawer-actions"},i.createElement("h3",{className:"cartDrawer-total optimizedCheckout-headingPrimary"},i.createElement(l.A,{amount:I}))))))}))},63163:(e,t,a)=>{a.d(t,{Ak:()=>n,Ay:()=>m,Mp:()=>r});var n,r,i=a(31635),o=a(3375),l=a.n(o),c=a(70355);function s(e){const{className:t,isFullWidth:a,isLoading:i,size:o,variant:c}=e;return l()("button",t,{"button--primary":c===n.Primary},{"button--tertiary":c===n.Secondary},{"button--action":c===n.Action},{"button--small":o===r.Small},{"button--tiny":o===r.Tiny},{"button--large":o===r.Large},{"button--slab":a},{"optimizedCheckout-buttonPrimary":c===n.Primary||c===n.Action},{"optimizedCheckout-buttonSecondary":c===n.Secondary},{"is-loading":i})}!function(e){e.Primary="primary",e.Secondary="secondary",e.Action="action"}(n||(n={})),function(e){e.Small="small",e.Tiny="tiny",e.Large="large"}(r||(r={}));const m=e=>{var{children:t,className:a,disabled:n,isFullWidth:r,isLoading:o,size:l,testId:m,type:d,variant:u}=e,p=(0,i.__rest)(e,["children","className","disabled","isFullWidth","isLoading","size","testId","type","variant"]);return c.createElement("button",Object.assign({},p,{className:s({className:a,isFullWidth:r,isLoading:o,size:l,variant:u}),"data-test":m,disabled:n||o,type:d||"button"}),t)}},91589:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(70355);const r=({children:e,modal:t})=>{const[a,r]=(0,n.useState)(!1),i=(0,n.useRef)(!1);(0,n.useEffect)((()=>(i.current=!0,()=>{i.current=!1})),[]);const o=()=>{i.current&&r(!0)};return n.createElement(n.Fragment,null,e({onClick:o,onKeyPress:e=>{"Enter"===e.key&&o()}}),t({isOpen:a,onRequestClose:()=>{i.current&&r(!1)}}))}}}]);
//# sourceMappingURL=order-summary-drawer-c893a96b.js.map