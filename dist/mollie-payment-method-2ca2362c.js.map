{"version":3,"file":"mollie-payment-method-2ca2362c.js","mappings":"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","sources":["webpack://checkout/./packages/hosted-credit-card-integration/src/components/HostedCreditCardExpiryField.tsx","webpack://checkout/./packages/hosted-credit-card-integration/src/components/HostedCreditCardNumberField/HostedCreditCardNumberField.tsx","webpack://checkout/./packages/hosted-credit-card-integration/src/components/HostedCreditCardCodeField/HostedCreditCardCodeField.tsx","webpack://checkout/./packages/hosted-credit-card-integration/src/components/getHostedInstrumentValidationSchema/getHostedInstrumentValidationSchema.ts","webpack://checkout/./packages/instrument-utils/src/creditCard/getCreditCardInputStyles/getCreditCardInputStyles.tsx","webpack://checkout/./packages/mollie-integration/src/MollieAPMCustomForm.tsx","webpack://checkout/./packages/mollie-integration/src/MollieCustomCardForm.tsx","webpack://checkout/./packages/mollie-integration/src/MolliePaymentMethod.tsx","webpack://checkout/./packages/ui/src/form/TextInputIframeContainer/TextInputIframeContainer.tsx","webpack://checkout/./packages/hosted-widget-integration/src/EditButton.tsx","webpack://checkout/./packages/hosted-widget-integration/src/PaymentDescriptor.tsx","webpack://checkout/./packages/hosted-widget-integration/src/PaymentWidget.tsx","webpack://checkout/./packages/hosted-widget-integration/src/HostedWidgetPaymentComponent.tsx","webpack://checkout/./packages/hosted-credit-card-integration/src/components/HostedCreditCardValidation/HostedCreditCardValidation.tsx"],"sourcesContent":["import React, { type FunctionComponent, useCallback } from 'react';\n\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\nimport { FormField, TextInputIframeContainer } from '@bigcommerce/checkout/ui';\n\nexport interface HostedCreditCardExpiryFieldProps {\n    appearFocused: boolean;\n    id: string;\n    name: string;\n}\n\nconst HostedCreditCardExpiryField: FunctionComponent<HostedCreditCardExpiryFieldProps> = ({\n    appearFocused,\n    id,\n    name,\n}) => {\n    const renderInput = useCallback(\n        () => <TextInputIframeContainer appearFocused={appearFocused} id={id} />,\n        [id, appearFocused],\n    );\n\n    return (\n        <FormField\n            additionalClassName=\"form-field--ccExpiry\"\n            input={renderInput}\n            labelContent={<TranslatedString id=\"payment.credit_card_expiration_label\" />}\n            name={name}\n        />\n    );\n};\n\nexport default HostedCreditCardExpiryField;\n","import React, { type FunctionComponent, useCallback } from 'react';\n\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\nimport { FormField, IconLock, TextInputIframeContainer } from '@bigcommerce/checkout/ui';\n\nexport interface HostedCreditCardNumberFieldProps {\n    appearFocused: boolean;\n    id: string;\n    name: string;\n}\n\nconst HostedCreditCardNumberField: FunctionComponent<HostedCreditCardNumberFieldProps> = ({\n    appearFocused,\n    id,\n    name,\n}) => {\n    const renderInput = useCallback(\n        () => (\n            <>\n                <TextInputIframeContainer\n                    additionalClassName=\"has-icon\"\n                    appearFocused={appearFocused}\n                    id={id}\n                />\n\n                <IconLock />\n            </>\n        ),\n        [id, appearFocused],\n    );\n\n    return (\n        <FormField\n            additionalClassName=\"form-field--ccNumber\"\n            input={renderInput}\n            labelContent={<TranslatedString id=\"payment.credit_card_number_label\" />}\n            name={name}\n        />\n    );\n};\n\nexport default HostedCreditCardNumberField;\n","import React, { type FunctionComponent, useCallback, useMemo } from 'react';\n\nimport { CreditCardCodeTooltip } from '@bigcommerce/checkout/instrument-utils';\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\nimport {\n    FormField,\n    IconHelp,\n    IconLock,\n    TextInputIframeContainer,\n    TooltipTrigger,\n} from '@bigcommerce/checkout/ui';\n\nexport interface HostedCreditCardCodeFieldProps {\n    appearFocused: boolean;\n    id?: string;\n    name: string;\n}\n\nconst HostedCreditCardCodeField: FunctionComponent<HostedCreditCardCodeFieldProps> = ({\n    appearFocused,\n    id,\n    name,\n}) => {\n    const renderInput = useCallback(\n        () => (\n            <>\n                <TextInputIframeContainer\n                    additionalClassName=\"has-icon\"\n                    appearFocused={appearFocused}\n                    id={id}\n                />\n\n                <IconLock />\n            </>\n        ),\n        [id, appearFocused],\n    );\n\n    const labelContent = useMemo(\n        () => (\n            <>\n                <TranslatedString id=\"payment.credit_card_cvv_label\" />\n\n                <TooltipTrigger placement=\"top-start\" tooltip={<CreditCardCodeTooltip />}>\n                    <span className=\"has-tip\">\n                        <IconHelp />\n                    </span>\n                </TooltipTrigger>\n            </>\n        ),\n        [],\n    );\n\n    return (\n        <FormField\n            additionalClassName=\"form-ccFields-field--ccCvv\"\n            input={renderInput}\n            labelContent={labelContent}\n            name={name}\n        />\n    );\n};\n\nexport default HostedCreditCardCodeField;\n","import { type LanguageService } from '@bigcommerce/checkout-sdk';\nimport { memoize } from '@bigcommerce/memoize';\nimport { object, type ObjectSchema, string } from 'yup';\n\nexport interface HostedInstrumentValidationSchemaOptions {\n    language: LanguageService;\n    isCardExpiryRequired?: boolean;\n}\n\nexport interface HostedInstrumentValidationSchemaShape {\n    hostedForm: {\n        errors: {\n            cardCodeVerification: string;\n            cardNumberVerification: string;\n        };\n    };\n    instrumentId: string;\n}\n\nexport default memoize(function getHostedInstrumentValidationSchema({\n    language,\n    isCardExpiryRequired = false,\n}: HostedInstrumentValidationSchemaOptions): ObjectSchema<HostedInstrumentValidationSchemaShape> {\n    return object().shape<HostedInstrumentValidationSchemaShape>({\n        instrumentId: string().required(),\n\n        hostedForm: object()\n            .required()\n            .shape<HostedInstrumentValidationSchemaShape['hostedForm']>({\n                errors: object()\n                    .required()\n                    .shape<HostedInstrumentValidationSchemaShape['hostedForm']['errors']>({\n                        cardCodeVerification: string()\n                            .test({\n                                message: language.translate(\n                                    'payment.credit_card_cvv_required_error',\n                                ),\n                                test: (value) => value !== 'required',\n                            })\n                            .test({\n                                message: language.translate(\n                                    'payment.credit_card_cvv_invalid_error',\n                                ),\n                                test: (value) => value !== 'invalid_card_code',\n                            }),\n\n                        cardNumberVerification: string()\n                            .test({\n                                message: language.translate(\n                                    'payment.credit_card_number_required_error',\n                                ),\n                                test: (value) => value !== 'required',\n                            })\n                            .test({\n                                message: language.translate(\n                                    'payment.credit_card_number_invalid_error',\n                                ),\n                                test: (value) => value !== 'invalid_card_number',\n                            })\n                            .test({\n                                message: language.translate(\n                                    'payment.credit_card_number_mismatch_error',\n                                ),\n                                test: (value) => value !== 'mismatched_card_number',\n                            }),\n                        ...(isCardExpiryRequired\n                            ? {\n                                  cardExpiryVerification: string()\n                                      .test({\n                                          message: language.translate(\n                                              'payment.credit_card_expiration_required_error',\n                                          ),\n                                          test: (value) => value !== 'required',\n                                      })\n                                      .test({\n                                          message: language.translate(\n                                              'payment.credit_card_expiration_invalid_error',\n                                          ),\n                                          test: (value) => value !== 'invalid_card_expiry',\n                                      }),\n                              }\n                            : {}),\n                    }),\n            }),\n    });\n});\n","import { noop } from 'lodash';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { getAppliedStyles } from '@bigcommerce/checkout/dom-utils';\nimport { FormContext, FormFieldContainer, TextInput } from '@bigcommerce/checkout/ui';\n\nexport enum CreditCardInputStylesType {\n    Default = 'default',\n    Error = 'error',\n    Focus = 'focus',\n}\n\nexport default function getCreditCardInputStyles(\n    containerId: string,\n    properties: string[],\n    type: CreditCardInputStylesType = CreditCardInputStylesType.Default,\n): Promise<{ [key: string]: string }> {\n    const container = document.createElement('div');\n    const parentContainer = document.getElementById(containerId);\n\n    if (!parentContainer) {\n        throw new Error(\n            'Unable to retrieve input styles as the provided container ID is not valid.',\n        );\n    }\n\n    parentContainer.appendChild(container);\n\n    return new Promise((resolve) => {\n        const callbackRef = (element: HTMLInputElement | null) => {\n            if (!element) {\n                return;\n            }\n\n            resolve(getAppliedStyles(element, properties));\n\n            ReactDOM.unmountComponentAtNode(container);\n\n            if (container.parentElement) {\n                container.parentElement.removeChild(container);\n            }\n        };\n\n        ReactDOM.render(\n            <FormContext.Provider value={{ isSubmitted: true, setSubmitted: noop }}>\n                <FormFieldContainer hasError={type === CreditCardInputStylesType.Error}>\n                    <TextInput\n                        appearFocused={type === CreditCardInputStylesType.Focus}\n                        ref={callbackRef}\n                    />\n                </FormFieldContainer>\n            </FormContext.Provider>,\n            container,\n        );\n    });\n}\n","import { type PaymentMethod } from '@bigcommerce/checkout-sdk';\nimport { type FieldProps, useField } from 'formik';\nimport React, {\n    type FunctionComponent,\n    type SyntheticEvent,\n    useCallback,\n    useEffect,\n    useState,\n} from 'react';\n\nimport { preventDefault } from '@bigcommerce/checkout/dom-utils';\nimport { withLanguage, type WithLanguageProps } from '@bigcommerce/checkout/locale';\nimport { DropdownTrigger, FormField } from '@bigcommerce/checkout/ui';\n\nexport interface MollieCustomCardFormProps {\n    method: PaymentMethod;\n}\n\nexport interface Issuer {\n    name: string;\n    image: {\n        size1x: string;\n    };\n    id: string;\n}\n\ninterface HiddenInputProps extends FieldProps {\n    selectedIssuer?: Issuer;\n}\n\ninterface SelecteIssuerProp {\n    selectedIssuer: Issuer;\n}\n\ninterface OptionButtonProps {\n    issuer: Issuer;\n    className?: string;\n    onClick?(event: SyntheticEvent<EventTarget>): void;\n}\n\nconst MollieAPMCustomForm: FunctionComponent<MollieCustomCardFormProps & WithLanguageProps> = ({\n    method,\n    language,\n}) => {\n    const issuers: Issuer[] = method.initializationData?.paymentMethodsResponse;\n\n    const [selectedIssuer, setSelectedIssuer] = useState<Issuer>({\n        name: language.translate('payment.select_your_bank'),\n        id: '',\n        image: { size1x: '' },\n    });\n    const render = useCallback(\n        (props: FieldProps) => <HiddenInput {...props} selectedIssuer={selectedIssuer} />,\n        [selectedIssuer],\n    );\n\n    if (!issuers || issuers.length === 0) {\n        return <></>;\n    }\n\n    const handleClick = ({ currentTarget }: SyntheticEvent<HTMLButtonElement>) => {\n        const _selectedIssuer = issuers.find(({ id }) => id === currentTarget.dataset.id);\n\n        if (!_selectedIssuer) {\n            return;\n        }\n\n        setSelectedIssuer(_selectedIssuer);\n    };\n\n    const issuersList = (\n        <ul\n            className=\"dropdown-menu instrumentSelect-dropdownMenu mollie-instrument-card\"\n            id=\"issuersDropdown\"\n        >\n            {issuers.map((issuer) => (\n                <li className=\"dropdown-menu-item dropdown-menu-item--select\" key={issuer.id}>\n                    <OptionButton issuer={issuer} onClick={handleClick} />\n                </li>\n            ))}\n        </ul>\n    );\n\n    return (\n        <>\n            <DropdownTrigger dropdown={issuersList}>\n                <IssuerSelectButton selectedIssuer={selectedIssuer} />\n            </DropdownTrigger>\n            <FormField input={render} name=\"issuer\" />\n        </>\n    );\n};\n\nexport const HiddenInput: FunctionComponent<HiddenInputProps> = ({\n    field: { value, ...restField },\n    selectedIssuer,\n}) => {\n    const [field, _, helpers] = useField(restField.name);\n    const Input = useCallback(() => <input {...field} type=\"hidden\" />, [field]);\n\n    useEffect(() => {\n        if (value === selectedIssuer) {\n            return;\n        }\n\n        void helpers.setValue(selectedIssuer?.id);\n    }, [value, selectedIssuer, helpers]);\n\n    return <Input />;\n};\n\nexport const IssuerSelectButton: FunctionComponent<SelecteIssuerProp> = ({ selectedIssuer }) => (\n    <a\n        className=\"instrumentSelect instrumentSelect-card button dropdown-button dropdown-toogle--select\"\n        href=\"#\"\n        id=\"issuerToggle\"\n        onClick={preventDefault()}\n    >\n        {selectedIssuer.name}\n    </a>\n);\n\nexport const OptionButton: FunctionComponent<OptionButtonProps> = ({ issuer, ...props }) => {\n    const { name, image, id } = issuer;\n\n    return (\n        <a className=\"instrumentSelect-details mollie-instrument-list\" {...props} data-id={id}>\n            <label className=\"mollie-instrument-left\">{name}</label>\n            <img alt={name} data-test=\"cart-item-image\" src={image.size1x} />\n        </a>\n    );\n};\n\nexport default withLanguage(MollieAPMCustomForm);\n","import { type PaymentMethod } from '@bigcommerce/checkout-sdk';\nimport classNames from 'classnames';\nimport React from 'react';\n\nimport { CreditCardCodeTooltip } from '@bigcommerce/checkout/instrument-utils';\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\nimport { IconHelp, TooltipTrigger } from '@bigcommerce/checkout/ui';\n\nimport MollieAPMCustomForm from './MollieAPMCustomForm';\n\nexport interface MollieCustomCardFormProps {\n    options: {\n        cardNumberElementOptions: {\n            containerId: string;\n        };\n        cardExpiryElementOptions: {\n            containerId: string;\n        };\n        cardCvcElementOptions: {\n            containerId: string;\n        };\n        cardHolderElementOptions: {\n            containerId: string;\n        };\n    };\n    isCreditCard: boolean;\n    method: PaymentMethod;\n}\n\nconst MollieCustomCardForm: React.FunctionComponent<MollieCustomCardFormProps> = ({\n    options,\n    isCreditCard,\n    method,\n}) =>\n    !isCreditCard ? (\n        <MollieAPMCustomForm method={method} />\n    ) : (\n        <div className=\"form-ccFields\">\n            <div className={classNames('form-field', 'mollie-full')}>\n                <label\n                    className=\"form-label optimizedCheckout-form-label\"\n                    htmlFor={options.cardNumberElementOptions.containerId}\n                >\n                    <TranslatedString id=\"payment.credit_card_number_label\" />\n                </label>\n                <div\n                    className={classNames('form-input', 'optimizedCheckout-form-input', 'has-icon')}\n                    data-cse=\"CardNumber\"\n                    id={options.cardNumberElementOptions.containerId}\n                />\n            </div>\n            <div className={classNames('form-field', 'mollie-full')}>\n                <label\n                    className=\"form-label optimizedCheckout-form-label\"\n                    htmlFor={options.cardHolderElementOptions.containerId}\n                >\n                    <TranslatedString id=\"payment.credit_card_name_label\" />\n                </label>\n                <div\n                    className={classNames('form-input', 'optimizedCheckout-form-input')}\n                    data-cse=\"CardHolder\"\n                    id={options.cardHolderElementOptions.containerId}\n                />\n            </div>\n            <div className={classNames('form-field', 'mollie-aside', 'mollie-paddingRight')}>\n                <label\n                    className=\"form-label optimizedCheckout-form-label\"\n                    htmlFor={options.cardCvcElementOptions.containerId}\n                >\n                    <TranslatedString id=\"payment.credit_card_cvv_label\" />\n                    <TooltipTrigger placement=\"top-start\" tooltip={<CreditCardCodeTooltip />}>\n                        <span className=\"has-tip\">\n                            <IconHelp />\n                        </span>\n                    </TooltipTrigger>\n                </label>\n                <div\n                    className={classNames('form-input', 'optimizedCheckout-form-input')}\n                    data-cse=\"SecurityCode\"\n                    id={options.cardCvcElementOptions.containerId}\n                />\n            </div>\n            <div className={classNames('form-field', 'mollie-aside')}>\n                <label\n                    className=\"form-label optimizedCheckout-form-label\"\n                    htmlFor={options.cardExpiryElementOptions.containerId}\n                >\n                    <TranslatedString id=\"payment.credit_card_expiration_label\" />\n                </label>\n                <div\n                    className={classNames('form-input', 'optimizedCheckout-form-input')}\n                    data-cse=\"ExpiryDate\"\n                    id={options.cardExpiryElementOptions.containerId}\n                />\n            </div>\n        </div>\n    );\n\nexport default MollieCustomCardForm;\n","import {\n    type CardInstrument,\n    type LegacyHostedFormOptions,\n    type PaymentInitializeOptions,\n} from '@bigcommerce/checkout-sdk';\nimport { compact, forIn, some } from 'lodash';\nimport React, {\n    type FunctionComponent,\n    type ReactNode,\n    useCallback,\n    useContext,\n    useState,\n} from 'react';\n\nimport {\n    getHostedInstrumentValidationSchema,\n    HostedCreditCardValidation,\n} from '@bigcommerce/checkout/hosted-credit-card-integration';\nimport {\n    type HostedWidgetComponentProps,\n    HostedWidgetPaymentComponent,\n} from '@bigcommerce/checkout/hosted-widget-integration';\nimport {\n    CreditCardInputStylesType,\n    getCreditCardInputStyles,\n    isInstrumentCardCodeRequiredSelector,\n    isInstrumentCardNumberRequiredSelector,\n} from '@bigcommerce/checkout/instrument-utils';\nimport { LocaleContext } from '@bigcommerce/checkout/locale';\nimport {\n    PaymentFormContext,\n    type PaymentMethodProps,\n    type PaymentMethodResolveId,\n    toResolvableComponent,\n} from '@bigcommerce/checkout/payment-integration-api';\n\nimport MollieCustomCardForm from './MollieCustomCardForm';\n\nexport enum MolliePaymentMethodType {\n    creditcard = 'credit_card',\n}\n\nconst MolliePaymentMethod: FunctionComponent<PaymentMethodProps> = ({\n    method,\n    checkoutState,\n    checkoutService,\n    language,\n    paymentForm,\n    ...props\n}) => {\n    const paymentContext = useContext(PaymentFormContext);\n    const localeContext = useContext(LocaleContext);\n    const containerId = `mollie-${method.method}`;\n\n    const [focusedFieldType, setFocusedFieldType] = useState<string>();\n    const {\n        setFieldTouched,\n        setFieldValue,\n        setSubmitted,\n        submitForm,\n        setSubmit,\n        hidePaymentSubmitButton,\n        disableSubmit,\n        setValidationSchema,\n    } = paymentForm;\n\n    const isInstrumentCardCodeRequiredProp = isInstrumentCardCodeRequiredSelector(checkoutState);\n    const isInstrumentCardNumberRequiredProp =\n        isInstrumentCardNumberRequiredSelector(checkoutState);\n\n    const {\n        config: { cardCode },\n    } = method;\n    const isCardCodeRequired = cardCode || cardCode === null;\n    const getHostedFieldId: (name: string) => string = useCallback(\n        (name) => {\n            return `${compact([method.gateway, method.id]).join('-')}-${name}`;\n        },\n        [method],\n    );\n\n    const getHostedFormOptions: (\n        selectedInstrument?: CardInstrument,\n    ) => Promise<LegacyHostedFormOptions> = useCallback(\n        async (selectedInstrument) => {\n            const styleProps = ['color', 'fontFamily', 'fontSize', 'fontWeight'];\n            const isInstrumentCardNumberRequired = selectedInstrument\n                ? isInstrumentCardNumberRequiredProp(selectedInstrument)\n                : false;\n            const isInstrumentCardCodeRequired = selectedInstrument\n                ? isInstrumentCardCodeRequiredProp(selectedInstrument, method)\n                : false;\n            const styleContainerId = selectedInstrument\n                ? isInstrumentCardCodeRequired\n                    ? getHostedFieldId('ccCvv')\n                    : undefined\n                : getHostedFieldId('ccNumber');\n\n            return {\n                fields: selectedInstrument\n                    ? {\n                          cardCodeVerification:\n                              isInstrumentCardCodeRequired && selectedInstrument\n                                  ? {\n                                        accessibilityLabel: language.translate(\n                                            'payment.credit_card_cvv_label',\n                                        ),\n                                        containerId: getHostedFieldId('ccCvv'),\n                                        instrumentId: selectedInstrument.bigpayToken,\n                                    }\n                                  : undefined,\n                          cardNumberVerification:\n                              isInstrumentCardNumberRequired && selectedInstrument\n                                  ? {\n                                        accessibilityLabel: language.translate(\n                                            'payment.credit_card_number_label',\n                                        ),\n                                        containerId: getHostedFieldId('ccNumber'),\n                                        instrumentId: selectedInstrument.bigpayToken,\n                                    }\n                                  : undefined,\n                      }\n                    : {\n                          cardCode: isCardCodeRequired\n                              ? {\n                                    accessibilityLabel: language.translate(\n                                        'payment.credit_card_cvv_label',\n                                    ),\n                                    containerId: getHostedFieldId('ccCvv'),\n                                }\n                              : undefined,\n                          cardExpiry: {\n                              accessibilityLabel: language.translate(\n                                  'payment.credit_card_expiration_label',\n                              ),\n                              containerId: getHostedFieldId('ccExpiry'),\n                              placeholder: language.translate(\n                                  'payment.credit_card_expiration_placeholder_text',\n                              ),\n                          },\n                          cardName: {\n                              accessibilityLabel: language.translate(\n                                  'payment.credit_card_name_label',\n                              ),\n                              containerId: getHostedFieldId('ccName'),\n                          },\n                          cardNumber: {\n                              accessibilityLabel: language.translate(\n                                  'payment.credit_card_number_label',\n                              ),\n                              containerId: getHostedFieldId('ccNumber'),\n                          },\n                      },\n                styles: styleContainerId\n                    ? {\n                          default: await getCreditCardInputStyles(styleContainerId, styleProps),\n                          error: await getCreditCardInputStyles(\n                              styleContainerId,\n                              styleProps,\n                              CreditCardInputStylesType.Error,\n                          ),\n                          focus: await getCreditCardInputStyles(\n                              styleContainerId,\n                              styleProps,\n                              CreditCardInputStylesType.Focus,\n                          ),\n                      }\n                    : {},\n                onBlur: ({ fieldType }) => {\n                    if (focusedFieldType === fieldType) {\n                        setFocusedFieldType(undefined);\n                    }\n                },\n                onCardTypeChange: ({ cardType }) => {\n                    setFieldValue('hostedForm.cardType', cardType);\n                },\n                onEnter: () => {\n                    setSubmitted(true);\n                    submitForm();\n                },\n                onFocus: ({ fieldType }) => {\n                    setFocusedFieldType(fieldType);\n                },\n                onValidate: ({ errors = {} }) => {\n                    forIn(errors, (fieldErrors = [], fieldType) => {\n                        const errorKey = `hostedForm.errors.${fieldType}`;\n\n                        setFieldValue(errorKey, fieldErrors[0]?.type ?? '');\n\n                        if (fieldErrors[0]) {\n                            setFieldTouched(errorKey);\n                        }\n                    });\n                },\n            };\n        },\n        [\n            focusedFieldType,\n            getHostedFieldId,\n            isCardCodeRequired,\n            isInstrumentCardCodeRequiredProp,\n            isInstrumentCardNumberRequiredProp,\n            language,\n            method,\n            setFieldTouched,\n            setFieldValue,\n            setSubmitted,\n            submitForm,\n        ],\n    );\n    const getHostedStoredCardValidationFieldset: (selectedInstrument: CardInstrument) => ReactNode =\n        useCallback(\n            (selectedInstrument) => {\n                const isInstrumentCardNumberRequired = selectedInstrument\n                    ? isInstrumentCardNumberRequiredProp(selectedInstrument, method)\n                    : false;\n                const isInstrumentCardCodeRequired = selectedInstrument\n                    ? isInstrumentCardCodeRequiredProp(selectedInstrument, method)\n                    : false;\n\n                return (\n                    <HostedCreditCardValidation\n                        cardCodeId={\n                            isInstrumentCardCodeRequired ? getHostedFieldId('ccCvv') : undefined\n                        }\n                        cardNumberId={\n                            isInstrumentCardNumberRequired\n                                ? getHostedFieldId('ccNumber')\n                                : undefined\n                        }\n                        focusedFieldType={focusedFieldType}\n                    />\n                );\n            },\n            [\n                focusedFieldType,\n                getHostedFieldId,\n                isInstrumentCardCodeRequiredProp,\n                isInstrumentCardNumberRequiredProp,\n                method,\n            ],\n        );\n    const initializeMolliePayment: HostedWidgetComponentProps['initializePayment'] = useCallback(\n        async (options: PaymentInitializeOptions, selectedInstrument) => {\n            const mollieElements = getMolliesElementOptions();\n\n            return checkoutService.initializePayment({\n                ...options,\n                mollie: {\n                    containerId,\n                    cardNumberId: mollieElements.cardNumberElementOptions.containerId,\n                    cardCvcId: mollieElements.cardCvcElementOptions.containerId,\n                    cardHolderId: mollieElements.cardHolderElementOptions.containerId,\n                    cardExpiryId: mollieElements.cardExpiryElementOptions.containerId,\n                    styles: {\n                        base: {\n                            color: '#333333',\n                            '::placeholder': {\n                                color: '#999999',\n                            },\n                        },\n                        valid: {\n                            color: '#090',\n                        },\n                        invalid: {\n                            color: '#D14343',\n                        },\n                    },\n                    unsupportedMethodMessage: localeContext?.language.translate(\n                        'payment.mollie_unsupported_method_error',\n                    ),\n                    disableButton: (disabled: boolean) => {\n                        if (paymentContext) {\n                            disableSubmit(method, disabled);\n                        }\n                    },\n                    ...(selectedInstrument && {\n                        form: await getHostedFormOptions(selectedInstrument),\n                    }),\n                },\n            });\n        },\n        [\n            checkoutService,\n            containerId,\n            disableSubmit,\n            localeContext?.language,\n            getHostedFormOptions,\n            paymentContext,\n            method,\n        ],\n    );\n\n    const getMolliesElementOptions = () => {\n        return {\n            cardNumberElementOptions: {\n                containerId: 'mollie-card-number-component-field',\n            },\n            cardExpiryElementOptions: {\n                containerId: 'mollie-card-expiry-component-field',\n            },\n            cardCvcElementOptions: {\n                containerId: 'mollie-card-cvc-component-field',\n            },\n            cardHolderElementOptions: {\n                containerId: 'mollie-card-holder-component-field',\n            },\n        };\n    };\n\n    function renderCustomPaymentForm() {\n        const options = getMolliesElementOptions();\n\n        return (\n            <MollieCustomCardForm isCreditCard={isCreditCard()} method={method} options={options} />\n        );\n    }\n\n    function isCreditCard(): boolean {\n        return method.method === MolliePaymentMethodType.creditcard;\n    }\n\n    function validateInstrument(_shouldShowNumber: boolean, selectedInstrument: CardInstrument) {\n        return getHostedStoredCardValidationFieldset(selectedInstrument);\n    }\n\n    const instruments = checkoutState.data.getInstruments(method) || [];\n\n    const {\n        data: { getCheckout, isPaymentDataRequired, getCustomer },\n        statuses: { isLoadingInstruments },\n    } = checkoutState;\n\n    const checkout = getCheckout();\n    const customer = getCustomer();\n    const isGuestCustomer = customer?.isGuest;\n    const isInstrumentFeatureAvailable =\n        !isGuestCustomer && Boolean(method.config.isVaultingEnabled);\n\n    return (\n        <HostedWidgetPaymentComponent\n            {...props}\n            containerId={containerId}\n            deinitializePayment={checkoutService.deinitializePayment}\n            disableSubmit={disableSubmit}\n            hideContentWhenSignedOut\n            hidePaymentSubmitButton={hidePaymentSubmitButton}\n            initializePayment={initializeMolliePayment}\n            instruments={instruments}\n            isAccountInstrument={!isCreditCard()}\n            isInstrumentCardCodeRequired={isInstrumentCardCodeRequiredSelector(checkoutState)}\n            isInstrumentCardNumberRequired={isInstrumentCardNumberRequiredSelector(checkoutState)}\n            isInstrumentFeatureAvailable={isInstrumentFeatureAvailable}\n            isLoadingInstruments={isLoadingInstruments()}\n            isPaymentDataRequired={isPaymentDataRequired()}\n            isSignedIn={some(checkout?.payments, { providerId: method.id })}\n            loadInstruments={checkoutService.loadInstruments}\n            method={method}\n            renderCustomPaymentForm={renderCustomPaymentForm}\n            setFieldValue={setFieldValue}\n            setSubmit={setSubmit}\n            setValidationSchema={setValidationSchema}\n            shouldRenderCustomInstrument={true}\n            signOut={checkoutService.signOutCustomer}\n            storedCardValidationSchema={getHostedInstrumentValidationSchema({ language })}\n            validateInstrument={validateInstrument}\n        />\n    );\n};\n\nexport default toResolvableComponent<PaymentMethodProps, PaymentMethodResolveId>(\n    MolliePaymentMethod,\n    [{ gateway: 'mollie' }, { gateway: 'mollie', id: 'applepay' }],\n);\n","import classNames from 'classnames';\nimport React, { type FunctionComponent, type HTMLAttributes } from 'react';\n\nexport interface TextInputIframeContainerProps extends HTMLAttributes<HTMLDivElement> {\n    additionalClassName?: string;\n    appearFocused?: boolean;\n    testId?: string;\n}\n\nconst TextInputIframeContainer: FunctionComponent<TextInputIframeContainerProps> = ({\n    additionalClassName,\n    appearFocused,\n    testId,\n    ...props\n}) => (\n    <div\n        {...props}\n        className={classNames(\n            'form-input',\n            'optimizedCheckout-form-input',\n            { 'form-input--focus': appearFocused },\n            { 'optimizedCheckout-form-input--focus': appearFocused },\n            additionalClassName,\n        )}\n        data-test={testId}\n    />\n);\n\nexport default TextInputIframeContainer;\n","import classNames from 'classnames';\nimport React, { type ReactNode } from 'react';\n\nimport { preventDefault } from '@bigcommerce/checkout/dom-utils';\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\n\ninterface EditButtonProps {\n    buttonId: string | undefined;\n    shouldShowEditButton: boolean | undefined;\n}\n\nexport const EditButton = ({ buttonId, shouldShowEditButton }: EditButtonProps): ReactNode => {\n    if (shouldShowEditButton) {\n        const translatedString = <TranslatedString id=\"remote.select_different_card_action\" />;\n\n        return (\n            <p>\n                <button\n                    className={classNames('stepHeader', 'widget-link-amazonpay')}\n                    id={buttonId}\n                    onClick={preventDefault()}\n                    type=\"button\"\n                >\n                    {translatedString}\n                </button>\n            </p>\n        );\n    }\n\n    return null;\n};\n","import React, { type ReactNode } from 'react';\n\ninterface PaymentDescriptorProps {\n    paymentDescriptor: string | undefined;\n    shouldShowDescriptor: boolean | undefined;\n}\n\nexport const PaymentDescriptor = ({\n    shouldShowDescriptor,\n    paymentDescriptor,\n}: PaymentDescriptorProps): ReactNode => {\n    if (shouldShowDescriptor && paymentDescriptor) {\n        return <div className=\"payment-descriptor\">{paymentDescriptor}</div>;\n    }\n\n    return null;\n};\n","import { type PaymentMethod } from '@bigcommerce/checkout-sdk';\nimport classNames from 'classnames';\nimport React, { type ReactElement } from 'react';\n\ninterface PaymentWidgetProps {\n    additionalContainerClassName: string | undefined;\n    containerId: string;\n    hideContentWhenSignedOut: boolean;\n    hideWidget: boolean;\n    isSignInRequired: boolean | undefined;\n    isSignedIn: boolean;\n    method: PaymentMethod;\n    renderCustomPaymentForm: (() => React.ReactNode) | undefined;\n    shouldRenderCustomInstrument: boolean;\n    shouldShowCreditCardFieldset: boolean;\n}\n\nexport const PaymentWidget = ({\n    additionalContainerClassName,\n    containerId,\n    hideContentWhenSignedOut,\n    hideWidget,\n    isSignInRequired,\n    isSignedIn,\n    method,\n    renderCustomPaymentForm,\n    shouldRenderCustomInstrument,\n    shouldShowCreditCardFieldset,\n}: PaymentWidgetProps): ReactElement => (\n    <div\n        className={classNames(\n            'widget',\n            `widget--${method.id}`,\n            'payment-widget',\n            shouldRenderCustomInstrument ? '' : additionalContainerClassName,\n        )}\n        id={containerId}\n        style={{\n            display:\n                (hideContentWhenSignedOut && isSignInRequired && !isSignedIn) ||\n                !shouldShowCreditCardFieldset ||\n                hideWidget\n                    ? 'none'\n                    : undefined,\n        }}\n        tabIndex={-1}\n    >\n        {shouldRenderCustomInstrument && renderCustomPaymentForm && renderCustomPaymentForm()}\n    </div>\n);\n","import {\n    type AccountInstrument,\n    type CardInstrument,\n    type CheckoutSelectors,\n    type CustomerInitializeOptions,\n    type CustomerRequestOptions,\n    type Instrument,\n    type PaymentInitializeOptions,\n    type PaymentInstrument,\n    type PaymentMethod,\n    type PaymentRequestOptions,\n} from '@bigcommerce/checkout-sdk';\nimport { find, noop } from 'lodash';\nimport React, {\n    type ReactElement,\n    type ReactNode,\n    useCallback,\n    useEffect,\n    useRef,\n    useState,\n} from 'react';\nimport { type ObjectSchema } from 'yup';\n\nimport {\n    AccountInstrumentFieldset,\n    assertIsCardInstrument,\n    CardInstrumentFieldset,\n    isBankAccountInstrument,\n    isCardInstrument,\n    StoreInstrumentFieldset,\n} from '@bigcommerce/checkout/instrument-utils';\nimport { type PaymentFormValues } from '@bigcommerce/checkout/payment-integration-api';\nimport { LoadingOverlay } from '@bigcommerce/checkout/ui';\n\nimport { EditButton } from './EditButton';\nimport { PaymentDescriptor } from './PaymentDescriptor';\nimport { PaymentWidget } from './PaymentWidget';\n\nexport interface PaymentContextProps {\n    disableSubmit(method: PaymentMethod, disabled?: boolean): void;\n    // NOTE: This prop allows certain payment methods to override the default\n    // form submission behaviour. It is not recommended to use it because\n    // generally speaking we want to avoid method-specific snowflake behaviours.\n    // Nevertheless, because of some product / UX decisions made in the past\n    // (i.e.: Amazon), we have to have this backdoor so we can preserve these\n    // snowflake behaviours. In the future, if we decide to change the UX, we\n    // can remove this prop.\n    setSubmit(method: PaymentMethod, fn: ((values: PaymentFormValues) => void) | null): void;\n    setFieldValue<TField extends keyof PaymentFormValues>(\n        field: TField,\n        value: PaymentFormValues[TField],\n    ): void;\n    setValidationSchema(\n        method: PaymentMethod,\n        schema: ObjectSchema<Partial<PaymentFormValues>> | null,\n    ): void;\n    hidePaymentSubmitButton(method: PaymentMethod, hidden?: boolean): void;\n}\n\nexport interface WithCheckoutHostedWidgetPaymentMethodProps {\n    instruments: PaymentInstrument[];\n    isInstrumentFeatureAvailable: boolean;\n    isLoadingInstruments: boolean;\n    isPaymentDataRequired: boolean;\n    isSignedIn: boolean;\n    isInstrumentCardCodeRequired(instrument: Instrument, method: PaymentMethod): boolean;\n    isInstrumentCardNumberRequired(instrument: Instrument, method: PaymentMethod): boolean;\n    loadInstruments(): Promise<CheckoutSelectors>;\n    signOut(options: CustomerRequestOptions): void;\n}\n\nexport interface HostedWidgetComponentProps extends WithCheckoutHostedWidgetPaymentMethodProps {\n    additionalContainerClassName?: string;\n    buttonId?: string;\n    containerId: string;\n    hideContentWhenSignedOut?: boolean;\n    hideVerificationFields?: boolean;\n    isAccountInstrument?: boolean;\n    hideWidget?: boolean;\n    isInitializing?: boolean;\n    isUsingMultiShipping?: boolean;\n    isSignInRequired?: boolean;\n    method: PaymentMethod;\n    paymentDescriptor?: string;\n    shouldHideInstrumentExpiryDate?: boolean;\n    shouldShow?: boolean;\n    shouldShowDescriptor?: boolean;\n    shouldShowEditButton?: boolean;\n    shouldRenderCustomInstrument?: boolean;\n    storedCardValidationSchema?: ObjectSchema;\n    renderCustomPaymentForm?(): React.ReactNode;\n    validateInstrument?(\n        shouldShowNumberField: boolean,\n        selectedInstrument?: CardInstrument,\n    ): React.ReactNode;\n    deinitializeCustomer?(options: CustomerRequestOptions): Promise<CheckoutSelectors>;\n    deinitializePayment(options: PaymentRequestOptions): Promise<CheckoutSelectors>;\n    initializeCustomer?(options: CustomerInitializeOptions): Promise<CheckoutSelectors>;\n    initializePayment(\n        options: PaymentInitializeOptions,\n        selectedInstrument?: CardInstrument,\n    ): Promise<CheckoutSelectors>;\n    onPaymentSelect?(): void;\n    onSignOut?(): void;\n    onSignOutError?(error: Error): void;\n    onUnhandledError?(error: Error): void;\n    signInCustomer?(): void;\n}\n\nconst HostedWidgetPaymentComponent = ({\n    instruments,\n    hideWidget = false,\n    isInitializing = false,\n    isAccountInstrument,\n    isInstrumentFeatureAvailable: isInstrumentFeatureAvailableProp,\n    isLoadingInstruments,\n    shouldHideInstrumentExpiryDate = false,\n    shouldShow = true,\n    hideVerificationFields,\n    method,\n    storedCardValidationSchema,\n    isPaymentDataRequired,\n    setValidationSchema,\n    loadInstruments,\n    onUnhandledError = noop,\n    deinitializeCustomer,\n    deinitializePayment,\n    setSubmit,\n    initializeCustomer,\n    initializePayment,\n    signInCustomer,\n    isSignedIn,\n    isSignInRequired,\n    isInstrumentCardNumberRequired,\n    validateInstrument,\n    containerId,\n    hideContentWhenSignedOut = false,\n    renderCustomPaymentForm,\n    additionalContainerClassName,\n    shouldRenderCustomInstrument = false,\n    paymentDescriptor,\n    shouldShowDescriptor,\n    shouldShowEditButton,\n    buttonId,\n    setFieldValue,\n}: HostedWidgetComponentProps & PaymentContextProps): ReactElement => {\n    const [isAddingNewCard, setIsAddingNewCard] = useState(false);\n    const [selectedInstrumentId, setSelectedInstrumentId] = useState<string | undefined>(undefined);\n    const instrumentsRef = useRef<PaymentInstrument[]>(instruments);\n\n    useEffect(() => {\n        instrumentsRef.current = instruments;\n    }, [instruments]);\n\n    const getDefaultInstrumentId = useCallback((): string | undefined => {\n        if (isAddingNewCard) {\n            return undefined;\n        }\n\n        const defaultInstrument =\n            instrumentsRef.current.find((instrument) => instrument.defaultInstrument) ||\n            instrumentsRef.current[0];\n\n        return defaultInstrument ? defaultInstrument.bigpayToken : undefined;\n    }, [isAddingNewCard]);\n\n    const getSelectedInstrument = useCallback((): PaymentInstrument | undefined => {\n        const currentSelectedId = selectedInstrumentId || getDefaultInstrumentId();\n\n        return find(instrumentsRef.current, { bigpayToken: currentSelectedId });\n    }, [selectedInstrumentId, getDefaultInstrumentId]);\n\n    const getValidationSchema = useCallback((): ObjectSchema | null => {\n        if (!isPaymentDataRequired) {\n            return null;\n        }\n\n        const currentSelectedInstrument = getSelectedInstrument();\n\n        if (isInstrumentFeatureAvailableProp && currentSelectedInstrument) {\n            return storedCardValidationSchema || null;\n        }\n\n        return null;\n    }, [\n        getSelectedInstrument,\n        isInstrumentFeatureAvailableProp,\n        isPaymentDataRequired,\n        storedCardValidationSchema,\n    ]);\n\n    const getSelectedBankAccountInstrument = useCallback(\n        (\n            addingNew: boolean,\n            currentSelectedInstrument: PaymentInstrument,\n        ): AccountInstrument | undefined => {\n            return !addingNew && isBankAccountInstrument(currentSelectedInstrument)\n                ? currentSelectedInstrument\n                : undefined;\n        },\n        [],\n    );\n\n    const handleDeleteInstrument = useCallback(\n        (id: string): void => {\n            if (instruments.length === 0) {\n                setIsAddingNewCard(true);\n                setSelectedInstrumentId(undefined);\n                setFieldValue('instrumentId', '');\n\n                return;\n            }\n\n            if (selectedInstrumentId === id) {\n                const nextId = getDefaultInstrumentId();\n\n                setSelectedInstrumentId(nextId);\n                setFieldValue('instrumentId', nextId);\n            }\n        },\n        [instruments, selectedInstrumentId, getDefaultInstrumentId],\n    );\n\n    const handleUseNewCard = useCallback(async () => {\n        setIsAddingNewCard(true);\n        setSelectedInstrumentId(undefined);\n\n        if (deinitializePayment) {\n            await deinitializePayment({\n                gatewayId: method.gateway,\n                methodId: method.id,\n            });\n        }\n\n        if (initializePayment) {\n            await initializePayment({\n                gatewayId: method.gateway,\n                methodId: method.id,\n            });\n        }\n    }, [method, deinitializePayment, initializePayment]);\n\n    const handleSelectInstrument = useCallback((id: string) => {\n        setIsAddingNewCard(false);\n        setSelectedInstrumentId(id);\n    }, []);\n\n    const getValidateInstrument = useCallback((): ReactNode | undefined => {\n        const currentSelectedId = selectedInstrumentId || getDefaultInstrumentId();\n        const currentSelectedInstrument = find(instruments, { bigpayToken: currentSelectedId });\n\n        if (currentSelectedInstrument) {\n            assertIsCardInstrument(currentSelectedInstrument);\n\n            const shouldShowNumberField = isInstrumentCardNumberRequired(\n                currentSelectedInstrument,\n                method,\n            );\n\n            if (hideVerificationFields) {\n                return undefined;\n            }\n\n            if (validateInstrument) {\n                return validateInstrument(shouldShowNumberField, currentSelectedInstrument);\n            }\n        }\n\n        return undefined;\n    }, [\n        selectedInstrumentId,\n        getDefaultInstrumentId,\n        instruments,\n        method,\n        hideVerificationFields,\n        validateInstrument,\n    ]);\n\n    const initializeMethod = async (): Promise<CheckoutSelectors | void> => {\n        const currentInstruments = instrumentsRef.current;\n\n        if (!isPaymentDataRequired) {\n            setSubmit(method, null);\n\n            return;\n        }\n\n        if (isSignInRequired && !isSignedIn) {\n            setSubmit(method, signInCustomer || null);\n\n            if (initializeCustomer) {\n                return initializeCustomer({ methodId: method.id });\n            }\n\n            return;\n        }\n\n        setSubmit(method, null);\n\n        let selectedCardInstrument: CardInstrument | undefined;\n\n        if (!isAddingNewCard) {\n            const currentSelectedInstrumentId = selectedInstrumentId || getDefaultInstrumentId();\n            const maybeInstrument =\n                currentInstruments.find(\n                    (instrument) => instrument.bigpayToken === currentSelectedInstrumentId,\n                ) || currentInstruments[0];\n\n            if (maybeInstrument && isCardInstrument(maybeInstrument)) {\n                selectedCardInstrument = maybeInstrument;\n            }\n        }\n\n        if (initializePayment) {\n            return initializePayment(\n                { gatewayId: method.gateway, methodId: method.id },\n                selectedCardInstrument,\n            );\n        }\n    };\n\n    // Below values are for lower level components\n    const effectiveSelectedInstrumentId = selectedInstrumentId || getDefaultInstrumentId();\n    const selectedInstrument = effectiveSelectedInstrumentId\n        ? instruments.find((i) => i.bigpayToken === effectiveSelectedInstrumentId) || instruments[0]\n        : instruments[0];\n    const cardInstruments: CardInstrument[] = instruments.filter(\n        (i): i is CardInstrument => !isBankAccountInstrument(i),\n    );\n    const accountInstruments: AccountInstrument[] = instruments.filter(\n        (i): i is AccountInstrument => isBankAccountInstrument(i),\n    );\n    const shouldShowInstrumentFieldset = isInstrumentFeatureAvailableProp && instruments.length > 0;\n    const shouldShowCreditCardFieldset = !shouldShowInstrumentFieldset || isAddingNewCard;\n    const isLoading = (isInitializing || isLoadingInstruments) && !hideWidget;\n    const selectedAccountInstrument = selectedInstrument\n        ? getSelectedBankAccountInstrument(isAddingNewCard, selectedInstrument)\n        : undefined;\n    const shouldShowAccountInstrument = instruments[0] && isBankAccountInstrument(instruments[0]);\n\n    useEffect(() => {\n        const init = async () => {\n            setValidationSchema(method, getValidationSchema());\n\n            try {\n                if (isInstrumentFeatureAvailableProp) {\n                    await loadInstruments?.();\n                }\n\n                await initializeMethod();\n            } catch (error: unknown) {\n                if (error instanceof Error) {\n                    onUnhandledError(error);\n                }\n            }\n        };\n\n        void init();\n\n        return () => {\n            const deInit = async () => {\n                setValidationSchema(method, null);\n                setSubmit(method, null);\n\n                try {\n                    if (deinitializePayment) {\n                        await deinitializePayment({\n                            gatewayId: method.gateway,\n                            methodId: method.id,\n                        });\n                    }\n\n                    if (deinitializeCustomer) {\n                        await deinitializeCustomer({ methodId: method.id });\n                    }\n                } catch (error: unknown) {\n                    if (error instanceof Error) {\n                        onUnhandledError(error);\n                    }\n                }\n            };\n\n            void deInit();\n        };\n    }, []);\n\n    const isInitialRenderRef = useRef(true);\n    const instrumentsLength = useRef(instruments.length);\n    const isPaymentDataRequiredRef = useRef(isPaymentDataRequired);\n    const selectedInstrumentIdRef = useRef(selectedInstrumentId);\n\n    useEffect(() => {\n        if (isInitialRenderRef.current) {\n            isInitialRenderRef.current = false;\n\n            return;\n        }\n\n        setValidationSchema(method, getValidationSchema());\n\n        const reInit = async () => {\n            try {\n                if (deinitializePayment) {\n                    await deinitializePayment({\n                        gatewayId: method.gateway,\n                        methodId: method.id,\n                    });\n                }\n\n                await initializeMethod();\n            } catch (error: unknown) {\n                if (error instanceof Error) {\n                    onUnhandledError(error);\n                }\n            }\n        };\n\n        if (\n            selectedInstrumentIdRef.current !== selectedInstrumentId ||\n            (Number(instrumentsLength.current) > 0 && instruments.length === 0) ||\n            isPaymentDataRequiredRef.current !== isPaymentDataRequired\n        ) {\n            selectedInstrumentIdRef.current = selectedInstrumentId;\n            instrumentsLength.current = instruments.length;\n            isPaymentDataRequiredRef.current = isPaymentDataRequired;\n\n            void reInit();\n        }\n    }, [selectedInstrumentId, instruments, isPaymentDataRequired]);\n\n    if (!shouldShow) {\n        return <div style={{ display: 'none' }} />;\n    }\n\n    return (\n        <LoadingOverlay hideContentWhenLoading isLoading={isLoading}>\n            <div className=\"paymentMethod--hosted\">\n                {shouldShowAccountInstrument && shouldShowInstrumentFieldset && (\n                    <AccountInstrumentFieldset\n                        instruments={accountInstruments}\n                        onSelectInstrument={handleSelectInstrument}\n                        onUseNewInstrument={handleUseNewCard}\n                        selectedInstrument={selectedAccountInstrument}\n                    />\n                )}\n                {!shouldShowAccountInstrument && shouldShowInstrumentFieldset && (\n                    <CardInstrumentFieldset\n                        instruments={cardInstruments}\n                        onDeleteInstrument={handleDeleteInstrument}\n                        onSelectInstrument={handleSelectInstrument}\n                        onUseNewInstrument={handleUseNewCard}\n                        selectedInstrumentId={effectiveSelectedInstrumentId}\n                        shouldHideExpiryDate={shouldHideInstrumentExpiryDate}\n                        validateInstrument={getValidateInstrument()}\n                    />\n                )}\n\n                <PaymentDescriptor\n                    paymentDescriptor={paymentDescriptor}\n                    shouldShowDescriptor={shouldShowDescriptor}\n                />\n\n                <PaymentWidget\n                    additionalContainerClassName={additionalContainerClassName}\n                    containerId={containerId}\n                    hideContentWhenSignedOut={hideContentWhenSignedOut}\n                    hideWidget={hideWidget}\n                    isSignInRequired={isSignInRequired}\n                    isSignedIn={isSignedIn}\n                    method={method}\n                    renderCustomPaymentForm={renderCustomPaymentForm}\n                    shouldRenderCustomInstrument={shouldRenderCustomInstrument}\n                    shouldShowCreditCardFieldset={shouldShowCreditCardFieldset}\n                />\n\n                {isInstrumentFeatureAvailableProp && (\n                    <StoreInstrumentFieldset\n                        instrumentId={effectiveSelectedInstrumentId}\n                        instruments={instruments}\n                        isAccountInstrument={Boolean(\n                            isAccountInstrument || shouldShowAccountInstrument,\n                        )}\n                    />\n                )}\n\n                <EditButton buttonId={buttonId} shouldShowEditButton={shouldShowEditButton} />\n            </div>\n        </LoadingOverlay>\n    );\n};\n\nexport default HostedWidgetPaymentComponent;\n","import React, { type FunctionComponent } from 'react';\n\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\n\nimport {\n    HostedCreditCardCodeField,\n    HostedCreditCardExpiryField,\n    HostedCreditCardNumberField,\n} from '../';\n\nexport interface HostedCreditCardValidationProps {\n    cardCodeId?: string;\n    cardNumberId?: string;\n    cardExpiryId?: string;\n    focusedFieldType?: string;\n}\n\nconst HostedCreditCardValidation: FunctionComponent<HostedCreditCardValidationProps> = ({\n    cardCodeId,\n    cardNumberId,\n    cardExpiryId,\n    focusedFieldType,\n}) => (\n    <>\n        {cardNumberId && (\n            <p>\n                <strong>\n                    <TranslatedString id=\"payment.instrument_trusted_shipping_address_title_text\" />\n                </strong>\n\n                <br />\n\n                <TranslatedString id=\"payment.instrument_trusted_shipping_address_text\" />\n            </p>\n        )}\n\n        <div className=\"form-ccFields\">\n            {cardNumberId && (\n                <HostedCreditCardNumberField\n                    appearFocused={focusedFieldType === 'cardNumber'}\n                    id={cardNumberId}\n                    name=\"hostedForm.errors.cardNumberVerification\"\n                />\n            )}\n\n            {cardCodeId && (\n                <HostedCreditCardCodeField\n                    appearFocused={focusedFieldType === 'cardCode'}\n                    id={cardCodeId}\n                    name=\"hostedForm.errors.cardCodeVerification\"\n                />\n            )}\n\n            {cardExpiryId && (\n                <HostedCreditCardExpiryField\n                    appearFocused={focusedFieldType === 'cardExpiry'}\n                    id={cardExpiryId}\n                    name=\"hostedForm.errors.cardExpiryVerification\"\n                />\n            )}\n        </div>\n    </>\n);\n\nexport default HostedCreditCardValidation;\n"],"names":["appearFocused","id","name","renderInput","useCallback","additionalClassName","input","labelContent","useMemo","placement","tooltip","className","language","isCardExpiryRequired","shape","instrumentId","required","hostedForm","errors","cardCodeVerification","test","message","translate","value","cardNumberVerification","cardExpiryVerification","CreditCardInputStylesType","getCreditCardInputStyles","containerId","properties","type","Default","container","document","createElement","parentContainer","getElementById","Error","appendChild","Promise","resolve","Provider","isSubmitted","setSubmitted","noop","hasError","Focus","ref","element","parentElement","removeChild","HiddenInput","field","restField","selectedIssuer","_","helpers","Input","useEffect","setValue","IssuerSelectButton","href","onClick","preventDefault","OptionButton","issuer","props","image","alt","src","size1x","withLanguage","method","issuers","initializationData","paymentMethodsResponse","setSelectedIssuer","useState","render","length","handleClick","currentTarget","_selectedIssuer","find","dataset","issuersList","map","key","DropdownTrigger","dropdown","FormField","options","isCreditCard","htmlFor","cardNumberElementOptions","TranslatedString","cardHolderElementOptions","cardCvcElementOptions","TooltipTrigger","CreditCardCodeTooltip","IconHelp","cardExpiryElementOptions","MolliePaymentMethodType","toResolvableComponent","checkoutState","checkoutService","paymentForm","paymentContext","useContext","PaymentFormContext","localeContext","LocaleContext","focusedFieldType","setFocusedFieldType","setFieldTouched","setFieldValue","submitForm","setSubmit","hidePaymentSubmitButton","disableSubmit","setValidationSchema","isInstrumentCardCodeRequiredProp","isInstrumentCardCodeRequiredSelector","isInstrumentCardNumberRequiredProp","isInstrumentCardNumberRequiredSelector","config","cardCode","isCardCodeRequired","getHostedFieldId","compact","gateway","join","getHostedFormOptions","selectedInstrument","styleProps","isInstrumentCardNumberRequired","isInstrumentCardCodeRequired","styleContainerId","undefined","fields","accessibilityLabel","bigpayToken","cardExpiry","placeholder","cardName","cardNumber","styles","default","error","focus","onBlur","fieldType","onCardTypeChange","cardType","onEnter","onFocus","onValidate","forIn","fieldErrors","errorKey","getHostedStoredCardValidationFieldset","HostedCreditCardValidation","cardCodeId","cardNumberId","initializeMolliePayment","mollieElements","getMolliesElementOptions","initializePayment","mollie","cardCvcId","cardHolderId","cardExpiryId","base","color","valid","invalid","unsupportedMethodMessage","disableButton","disabled","form","creditcard","instruments","data","getInstruments","getCheckout","isPaymentDataRequired","getCustomer","statuses","isLoadingInstruments","checkout","customer","isInstrumentFeatureAvailable","isGuest","Boolean","isVaultingEnabled","HostedWidgetPaymentComponent","deinitializePayment","hideContentWhenSignedOut","isAccountInstrument","isSignedIn","some","payments","providerId","loadInstruments","renderCustomPaymentForm","shouldRenderCustomInstrument","signOut","signOutCustomer","storedCardValidationSchema","getHostedInstrumentValidationSchema","validateInstrument","_shouldShowNumber","testId","EditButton","buttonId","shouldShowEditButton","translatedString","PaymentDescriptor","shouldShowDescriptor","paymentDescriptor","PaymentWidget","additionalContainerClassName","hideWidget","isSignInRequired","shouldShowCreditCardFieldset","style","display","tabIndex","isInitializing","isInstrumentFeatureAvailableProp","shouldHideInstrumentExpiryDate","shouldShow","hideVerificationFields","onUnhandledError","deinitializeCustomer","initializeCustomer","signInCustomer","isAddingNewCard","setIsAddingNewCard","selectedInstrumentId","setSelectedInstrumentId","instrumentsRef","useRef","current","getDefaultInstrumentId","defaultInstrument","instrument","getSelectedInstrument","currentSelectedId","getValidationSchema","currentSelectedInstrument","getSelectedBankAccountInstrument","addingNew","handleDeleteInstrument","nextId","handleUseNewCard","gatewayId","methodId","handleSelectInstrument","getValidateInstrument","shouldShowNumberField","initializeMethod","currentInstruments","selectedCardInstrument","currentSelectedInstrumentId","maybeInstrument","isCardInstrument","effectiveSelectedInstrumentId","i","cardInstruments","filter","accountInstruments","shouldShowInstrumentFieldset","isLoading","selectedAccountInstrument","shouldShowAccountInstrument","isInitialRenderRef","instrumentsLength","isPaymentDataRequiredRef","selectedInstrumentIdRef","Number","LoadingOverlay","hideContentWhenLoading","AccountInstrumentFieldset","A","onSelectInstrument","onUseNewInstrument","CardInstrumentFieldset","onDeleteInstrument","shouldHideExpiryDate","StoreInstrumentFieldset"],"sourceRoot":""}