"use strict";(self.webpackJsonpCheckout=self.webpackJsonpCheckout||[]).push([[2824],{4822:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var n=a(3375),r=a.n(n),l=a(70355),o=a(49655),i=a(16919),c=a(45050),s=a(91589),m=a(73545);function u({physicalItems:e,digitalItems:t,giftCertificates:a,customItems:n}){return e.length+t.length+a.length+(n||[]).length}var d=a(31635),h=a(42596),p=a(59456),C=a(55150),g=a(72769),A=a(48447),E=a(63163);const f=(0,a(2156).A)((()=>l.createElement("svg",{fill:"none",height:"37",viewBox:"0 0 38 37",width:"38",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M38 18.5C38 28.7173 29.7173 37 19.5 37C9.28273 37 1 28.7173 1 18.5C1 8.28273 9.28273 0 19.5 0C29.7173 0 38 8.28273 38 18.5Z",fill:"#F3F3F3"}),l.createElement("path",{clipRule:"evenodd",d:"M24.6671 24.6674L12.9998 13.0002L14.4141 11.5859L26.0813 23.2532L24.6671 24.6674Z",fill:"black",fillRule:"evenodd"}),l.createElement("path",{clipRule:"evenodd",d:"M25.6674 13.0004L14.0002 24.6676L12.5859 23.2534L24.2532 11.5862L25.6674 13.0004Z",fill:"black",fillRule:"evenodd"}))));var y=a(87980),k=a(61402),v=a(92909),x=a(58330),b=a(11100);const w=(0,l.memo)((({items:e,shopperCurrencyCode:t,storeCurrencyCode:a,amountWithCurrency:n})=>{const r=(0,m.A)(e),i=t!==a,c=1===r?"cart.item":"cart.items";return l.createElement(l.Fragment,null,r," ",l.createElement(o.A,{id:c})," | ",n," ",i&&l.createElement("span",null,"(",t,")"))}));var N=a(7995),I=a(66317),L=a(62755),_=a(81885),O=a(20328);const R=({onRequestClose:e,headerLink:t,subHeaderText:a})=>{let n;return(0,l.isValidElement)(t)&&(n=(0,l.cloneElement)(t,{className:"modal-header-link cart-modal-link test"})),l.createElement(l.Fragment,null,null!=n?n:t,l.createElement(x.A,{additionalClassName:"cart-modal-title"},l.createElement("div",null,l.createElement(o.A,{id:"cart.cart_heading"}),l.createElement("div",{className:"cart-heading-subheader"},a))),l.createElement("a",{className:"cart-modal-close",href:"#",onClick:(0,g.A)(e)},l.createElement("span",{className:"is-srOnly"},l.createElement(o.A,{id:"common.close_action"})),l.createElement(f,null)))},D=e=>{var t,{additionalLineItems:a,isTaxIncluded:n,taxes:c,onRequestClose:s,onAfterOpen:m,storeCurrency:u,shopperCurrency:f,isOpen:x,headerLink:D,items:M,total:S}=e,T=(0,d.__rest)(e,["additionalLineItems","isTaxIncluded","taxes","onRequestClose","onAfterOpen","storeCurrency","shopperCurrency","isOpen","headerLink","items","total"]);const{currency:B}=(0,h.Y)(),{checkoutState:z}=(0,p.Q)(),{themeV2:W}=(0,C.w)(),{checkoutSettings:q}=null!==(t=z.data.getConfig())&&void 0!==t?t:{},F=z.data.getCheckout(),P=z.data.getOrder(),U=(0,y.A)(q,"CHECKOUT-9674.multi_coupon_cart_checkout",!1),j=U&&!!F,H=U&&!F&&!!P;if(!B)return null;let K;j&&(K=F.totalDiscount),H&&(K=P.totalDiscount);const V=n&&c&&c.length>0,Z=Boolean(K&&K>0),G=l.createElement(w,{amountWithCurrency:l.createElement(i.A,{amount:S}),items:M,shopperCurrencyCode:f.code,storeCurrencyCode:u.code}),J=(0,b.A)()&&l.createElement(E.Ay,{className:"cart-modal-continue","data-test":"manage-instrument-cancel-button",onClick:(0,g.A)(s)},l.createElement(o.A,{id:"cart.return_to_checkout"}));return l.createElement(v.A,{additionalBodyClassName:"cart-modal-body optimizedCheckout-orderSummary",additionalHeaderClassName:"cart-modal-header optimizedCheckout-orderSummary with-continue-button",additionalModalClassName:r()("optimizedCheckout-cart-modal",{themeV2:W}),footer:J,header:R({headerLink:D,subHeaderText:G,onRequestClose:s}),isOpen:x,onAfterOpen:m,onRequestClose:s},l.createElement(L.A,null,l.createElement(N.A,{displayLineItemsCount:!1,items:M})),j||H?l.createElement(k.A,{fees:T.fees,giftWrappingAmount:T.giftWrappingAmount,handlingAmount:T.handlingAmount,isOrderConfirmation:!!H,isTaxIncluded:n,storeCreditAmount:T.storeCreditAmount,taxes:c}):l.createElement(L.A,null,l.createElement(_.A,Object.assign({isTaxIncluded:n,taxes:c},T)),a),l.createElement(L.A,null,l.createElement(O.A,{orderAmount:S,shopperCurrencyCode:f.code,storeCurrencyCode:u.code}),Z&&K&&l.createElement("div",{className:"total-savings"},l.createElement(A.A,{data:{totalDiscount:B.toCustomerCurrency(K)},id:"redeemable.total_savings_text"}))),V&&l.createElement(L.A,null,l.createElement("h5",{className:"cart-taxItem cart-taxItem--subtotal optimizedCheckout-contentPrimary","data-test":"tax-text"},l.createElement(o.A,{id:"tax.inclusive_label"})),(c||[]).map(((e,t)=>l.createElement(I.A,{amount:e.amount,key:t,label:e.name,testId:"cart-taxes"})))))};var M=a(9660);const S=(0,l.memo)((({additionalLineItems:e,coupons:t,discountAmount:a,giftCertificates:n,handlingAmount:d,headerLink:h,isTaxIncluded:p,lineItems:C,onRemovedCoupon:g,onRemovedGiftCertificate:A,shippingAmount:E,shippingAmountBeforeDiscount:f,shopperCurrency:y,storeCreditAmount:k,giftWrappingAmount:v,storeCurrency:x,subtotalAmount:b,taxes:w,total:N,fees:I})=>{const L=(0,l.useMemo)((()=>(0,M.A)(C)),[C]),_=(0,l.useCallback)((r=>l.createElement(D,Object.assign({},r,{additionalLineItems:e,coupons:t,discountAmount:a,fees:I,giftCertificates:n,giftWrappingAmount:v,handlingAmount:d,headerLink:h,isTaxIncluded:p,items:L,onRemovedCoupon:g,onRemovedGiftCertificate:A,shippingAmount:E,shippingAmountBeforeDiscount:f,shopperCurrency:y,storeCreditAmount:k,storeCurrency:x,subtotalAmount:b,taxes:w,total:N}))),[e,t,a,n,d,h,p,L,g,A,v,E,f,y,k,x,b,w,N,I]);return l.createElement(s.A,{modal:_},(({onClick:e,onKeyPress:t})=>l.createElement("div",{className:"cartDrawer optimizedCheckout-orderSummary",onClick:e,onKeyPress:t,tabIndex:0},l.createElement("figure",{className:r()("cartDrawer-figure",{"cartDrawer-figure--stack":u(L)>1})},l.createElement("div",{className:"cartDrawer-imageWrapper"},function(e){const t=e.physicalItems[0]||e.digitalItems[0];if(t&&t.imageUrl)return l.createElement("img",{alt:t.name,"data-test":"cart-item-image",src:t.imageUrl});if(e.giftCertificates.length)return l.createElement(c.A,null)}(L))),l.createElement("div",{className:"cartDrawer-body"},l.createElement("h3",{className:"cartDrawer-items optimizedCheckout-headingPrimary"},l.createElement(o.A,{data:{count:(0,m.A)(L)},id:"cart.item_count_text"})),l.createElement("a",null,l.createElement(o.A,{id:"cart.show_details_action"}))),l.createElement("div",{className:"cartDrawer-actions"},l.createElement("h3",{className:"cartDrawer-total optimizedCheckout-headingPrimary"},l.createElement(i.A,{amount:N}))))))}))},76089:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(31635),r=a(70355),l=a(45293),o=a(4822),i=a(31614),c=a(16171),s=a(51110);const m=(0,l.A)(c.A)((0,r.memo)((e=>{var{cartUrl:t,isMultiShippingMode:a,isBuyNowCart:l}=e,c=(0,n.__rest)(e,["cartUrl","isMultiShippingMode","isBuyNowCart"]);return(0,s.A)(o.default)(Object.assign(Object.assign({},c),{isBuyNowCart:l,cartUrl:t,headerLink:l?r.createElement("div",null):r.createElement(i.A,{className:"modal-header-link cart-modal-link",isMultiShippingMode:a,url:t})}))})))},91589:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(70355);const r=({children:e,modal:t})=>{const[a,r]=(0,n.useState)(!1),l=(0,n.useRef)(!1);(0,n.useEffect)((()=>(l.current=!0,()=>{l.current=!1})),[]);const o=()=>{l.current&&r(!0)};return n.createElement(n.Fragment,null,e({onClick:o,onKeyPress:e=>{"Enter"===e.key&&o()}}),t({isOpen:a,onRequestClose:()=>{l.current&&r(!1)}}))}}}]);
//# sourceMappingURL=cart-summary-drawer-7a47ae01.js.map