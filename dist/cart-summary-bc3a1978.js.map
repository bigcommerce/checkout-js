{"version":3,"file":"cart-summary-bc3a1978.js","mappings":"yNAqBA,MAoBA,GAAe,OAAa,IAA5B,EAhBS,I,IAAA,QAAEA,EAAO,oBAAEC,EAAmB,aAAEC,GAAY,EAAKC,GAAK,cAAtD,kDACL,MAAMC,EAAaF,EAAe,KAC9B,gBAAC,IAAQ,CACLD,oBAAqBA,EACrBI,IAAKL,IAIb,OAAO,OAAe,UAAf,CAA6B,OAAD,wBAC5BG,GAAK,CACRH,UACAE,eACAE,kB,uJCjCR,MAWA,EAX8E,EAAGE,cAEzE,0BAAQC,UAAU,eACd,sBAAIA,UAAU,4DACV,gBAACC,EAAA,EAAgB,CAACC,GAAG,uBAExBH,G,0DCsBb,MA8GA,EA9GyF,I,OAAA,oBACrFI,EAAmB,WACnBN,EAAU,cACVO,EAAa,UACbC,EAAS,gBACTC,EAAe,cACfC,EAAa,MACbC,EAAK,MACLC,EAAK,WACLC,GAAa,GAAI,EACdC,GAA0B,cAVwD,iIAYrF,MAAMC,EAAsBR,GAAiBI,GAASA,EAAMK,OAAS,GAE/D,SAAEC,IAAa,EAAAC,EAAA,MAGf,cAAEC,IAAkB,UACpB,iBAAEC,GAAmD,QAA9B,EAAAD,EAAcE,KAAKC,mBAAW,QAAI,CAAC,EAC1DC,EAAWJ,EAAcE,KAAKG,cAC9BC,EAAQN,EAAcE,KAAKK,WAE3BC,GAAuB,EAAAC,EAAA,GAAoBR,EAAkB,4CAA4C,GACzGS,EAAkCF,KAA0BJ,EAC5DO,EAA+BH,IAAyBJ,KAAcE,EAE5E,IAAIM,EAUJ,GARIF,IACAE,EAAgBR,EAASQ,eAGzBD,IACAC,EAAgBN,EAAMM,gBAGrBd,EACD,OAAO,KAGX,MAAMe,EAAyBC,QAAQF,GAAiBA,EAAgB,GAExE,OACI,2BAAS5B,UAAU,sCAAqC,YAAW,QAC9DU,GAAc,gBAAC,EAAkB,KAAEb,GAEpC,gBAACkC,EAAA,EAAmB,KAChB,gBAACC,EAAA,EAAiB,CAACC,uBAAqB,EAACC,MAAO7B,KAGpD,gBAAC8B,EAAA,EAAS,CAACC,OAAM,2BAEhBV,GAAmCC,EAC9B,gBAACU,EAAA,EAAwB,CACnBC,KAAM3B,EAA2B2B,KACjCC,mBAAoB5B,EAA2B4B,mBAC/CC,eAAgB7B,EAA2B6B,eAC3CC,oBAAqBd,EACrBvB,cAAeA,EACfsC,kBAAmB/B,EAA2B+B,kBAC9ClC,MAAOA,IAEb,gBAACuB,EAAA,EAAmB,KAClB,gBAACY,EAAA,EAAqB,eAClBvC,cAAeA,EACfI,MAAOA,GACHG,IAEPR,GAIT,gBAAC4B,EAAA,EAAmB,KAChB,gBAACa,EAAA,EAAiB,CACdC,YAAapC,EACbqC,oBAAqBxC,EAAgByC,KACrCC,kBAAmBzC,EAAcwC,OAEnClB,GAA0BD,GACxB,uBAAK5B,UAAU,iBACX,gBAACiD,EAAA,EAAc,CACX/B,KAAM,CAAEU,cAAed,EAASoC,mBAAmBtB,IACnD1B,GAAG,oCAMlBU,GAAuB,gBAACmB,EAAA,EAAmB,KACxC,sBACI/B,UAAU,oFAAmF,YACnF,YAEV,gBAACC,EAAA,EAAgB,CACbC,GAAG,0BAGTM,GAAS,IAAI2C,KAAI,CAACC,EAAKC,IACrB,gBAACC,EAAA,EAAiB,CACdC,OAAQH,EAAIG,OACZC,IAAKH,EACLI,MAAOL,EAAIM,KACXC,OAAO,mB","sources":["webpack://checkout/./packages/core/src/app/cart/CartSummary.tsx","webpack://checkout/./packages/core/src/app/order/OrderSummaryHeader.tsx","webpack://checkout/./packages/core/src/app/order/OrderSummary.tsx"],"sourcesContent":["import { type Checkout, type ShopperCurrency, type StoreCurrency } from '@bigcommerce/checkout-sdk';\nimport React, { type FunctionComponent } from 'react';\n\nimport { withCheckout } from '../checkout';\nimport OrderSummary from '../order/OrderSummary';\n\nimport EditLink from './EditLink';\nimport mapToCartSummaryProps from './mapToCartSummaryProps';\nimport { type RedeemableProps } from './Redeemable';\nimport withRedeemable from './withRedeemable';\n\nexport type WithCheckoutCartSummaryProps = {\n    checkout: Checkout;\n    cartUrl: string;\n    storeCurrency: StoreCurrency;\n    shopperCurrency: ShopperCurrency;\n    storeCreditAmount?: number;\n    isBuyNowCart: boolean;\n    isShippingDiscountDisplayEnabled: boolean;\n} & RedeemableProps;\n\nconst CartSummary: FunctionComponent<\n    WithCheckoutCartSummaryProps & {\n        isMultiShippingMode: boolean;\n    }\n    > = ({ cartUrl, isMultiShippingMode, isBuyNowCart, ...props }) => {\n    const headerLink = isBuyNowCart ? null : (\n        <EditLink\n            isMultiShippingMode={isMultiShippingMode}\n            url={cartUrl}\n        />\n    );\n\n    return withRedeemable(OrderSummary)({\n        ...props,\n        cartUrl,\n        isBuyNowCart,\n        headerLink,\n    });\n};\n\nexport default withCheckout(mapToCartSummaryProps)(CartSummary);\n","import React, { type FunctionComponent } from 'react';\n\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\n\nconst OrderSummaryHeader: FunctionComponent<{ children?: React.ReactNode }> = ({ children }) => {\n    return (\n        <header className=\"cart-header\">\n            <h3 className=\"cart-title optimizedCheckout-headingSecondary sub-header\">\n                <TranslatedString id=\"cart.cart_heading\" />\n            </h3>\n            {children}\n        </header>\n    );\n}\n\nexport default OrderSummaryHeader;\n","import {\n    ExtensionRegion,\n    type LineItemMap,\n    type ShopperCurrency,\n    type StoreCurrency,\n} from '@bigcommerce/checkout-sdk/essential';\nimport React, { type FunctionComponent, type ReactNode } from 'react';\n\nimport { Extension } from '@bigcommerce/checkout/checkout-extension';\nimport { useCheckout, useLocale } from '@bigcommerce/checkout/contexts';\nimport { TranslatedHtml, TranslatedString } from '@bigcommerce/checkout/locale';\n\nimport { isExperimentEnabled } from '../common/utility';\nimport { NewOrderSummarySubtotals } from '../coupon';\n\nimport OrderSummaryHeader from './OrderSummaryHeader';\nimport OrderSummaryItems from './OrderSummaryItems';\nimport OrderSummaryPrice from './OrderSummaryPrice';\nimport OrderSummarySection from './OrderSummarySection';\nimport OrderSummarySubtotals, { type OrderSummarySubtotalsProps } from './OrderSummarySubtotals';\nimport OrderSummaryTotal from './OrderSummaryTotal';\n\nexport interface OrderSummaryProps {\n    lineItems: LineItemMap;\n    total: number;\n    headerLink: ReactNode;\n    storeCurrency: StoreCurrency;\n    shopperCurrency: ShopperCurrency;\n    additionalLineItems?: ReactNode;\n    showHeader?: boolean;\n}\n\nconst OrderSummary: FunctionComponent<OrderSummaryProps & OrderSummarySubtotalsProps> = ({\n    additionalLineItems,\n    headerLink,\n    isTaxIncluded,\n    lineItems,\n    shopperCurrency,\n    storeCurrency,\n    taxes,\n    total,\n    showHeader = true,\n    ...orderSummarySubtotalsProps\n}) => {\n    const displayInclusiveTax = isTaxIncluded && taxes && taxes.length > 0;\n\n    const { currency } = useLocale();\n\n    // TODO: When removing the experiment, rename `NewOrderSummarySubtotals` to `OrderSummarySubtotals`.\n    const { checkoutState } = useCheckout();\n    const { checkoutSettings } = checkoutState.data.getConfig() ?? {};\n    const checkout = checkoutState.data.getCheckout();\n    const order = checkoutState.data.getOrder();\n    \n    const isMultiCouponEnabled = isExperimentEnabled(checkoutSettings, 'CHECKOUT-9674.multi_coupon_cart_checkout', false);\n    const isMultiCouponEnabledForCheckout = isMultiCouponEnabled && !!checkout;\n    const isMultiCouponEnabledForOrder = isMultiCouponEnabled && !checkout && !!order;\n    \n    let totalDiscount;\n    \n    if (isMultiCouponEnabledForCheckout) {\n        totalDiscount = checkout.totalDiscount;\n    }\n\n    if (isMultiCouponEnabledForOrder) {\n        totalDiscount = order.totalDiscount;\n    }\n\n    if (!currency) {\n        return null;\n    }\n\n    const isTotalDiscountVisible = Boolean(totalDiscount && totalDiscount > 0);\n\n    return (\n        <article className=\"cart optimizedCheckout-orderSummary\" data-test=\"cart\">\n            {showHeader && <OrderSummaryHeader>{headerLink}</OrderSummaryHeader>}\n\n            <OrderSummarySection>\n                <OrderSummaryItems displayLineItemsCount items={lineItems} />\n            </OrderSummarySection>\n\n            <Extension region={ExtensionRegion.SummaryLastItemAfter} />\n\n            {isMultiCouponEnabledForCheckout || isMultiCouponEnabledForOrder\n                ? <NewOrderSummarySubtotals\n                        fees={orderSummarySubtotalsProps.fees}\n                        giftWrappingAmount={orderSummarySubtotalsProps.giftWrappingAmount}\n                        handlingAmount={orderSummarySubtotalsProps.handlingAmount}\n                        isOrderConfirmation={isMultiCouponEnabledForOrder}\n                        isTaxIncluded={isTaxIncluded}\n                        storeCreditAmount={orderSummarySubtotalsProps.storeCreditAmount}\n                        taxes={taxes}\n                    />\n                : <OrderSummarySection>\n                    <OrderSummarySubtotals\n                        isTaxIncluded={isTaxIncluded}\n                        taxes={taxes}\n                        {...orderSummarySubtotalsProps}\n                    />\n                    {additionalLineItems}\n                </OrderSummarySection>\n            }\n\n            <OrderSummarySection>\n                <OrderSummaryTotal\n                    orderAmount={total}\n                    shopperCurrencyCode={shopperCurrency.code}\n                    storeCurrencyCode={storeCurrency.code}\n                />\n                {(isTotalDiscountVisible && totalDiscount) &&\n                    <div className=\"total-savings\">\n                        <TranslatedHtml\n                            data={{ totalDiscount: currency.toCustomerCurrency(totalDiscount) }}\n                            id=\"redeemable.total_savings_text\"\n                        />\n                    </div>\n                }\n            </OrderSummarySection>\n\n            {displayInclusiveTax && <OrderSummarySection>\n                <h5\n                    className=\"cart-taxItem cart-taxItem--subtotal optimizedCheckout-contentPrimary body-regular\"\n                    data-test=\"tax-text\"\n                >\n                    <TranslatedString\n                        id=\"tax.inclusive_label\"\n                    />\n                </h5>\n                {(taxes || []).map((tax, index) => (\n                    <OrderSummaryPrice\n                        amount={tax.amount}\n                        key={index}\n                        label={tax.name}\n                        testId=\"cart-taxes\"\n                    />\n                ))}\n            </OrderSummarySection>}\n        </article>\n    );\n};\n\nexport default OrderSummary;\n"],"names":["cartUrl","isMultiShippingMode","isBuyNowCart","props","headerLink","url","children","className","TranslatedString","id","additionalLineItems","isTaxIncluded","lineItems","shopperCurrency","storeCurrency","taxes","total","showHeader","orderSummarySubtotalsProps","displayInclusiveTax","length","currency","useLocale","checkoutState","checkoutSettings","data","getConfig","checkout","getCheckout","order","getOrder","isMultiCouponEnabled","isExperimentEnabled","isMultiCouponEnabledForCheckout","isMultiCouponEnabledForOrder","totalDiscount","isTotalDiscountVisible","Boolean","OrderSummarySection","OrderSummaryItems","displayLineItemsCount","items","Extension","region","NewOrderSummarySubtotals","fees","giftWrappingAmount","handlingAmount","isOrderConfirmation","storeCreditAmount","OrderSummarySubtotals","OrderSummaryTotal","orderAmount","shopperCurrencyCode","code","storeCurrencyCode","TranslatedHtml","toCustomerCurrency","map","tax","index","OrderSummaryPrice","amount","key","label","name","testId"],"sourceRoot":""}